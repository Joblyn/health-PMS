{"ast":null,"code":"import _objectSpread from \"/home/joblyn/Desktop/health.workcradle/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nimport _slicedToArray from \"/home/joblyn/Desktop/health.workcradle/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\n\nvar _this = this,\n    _jsxFileName = \"/home/joblyn/Desktop/health.workcradle/src/pages/superadmin/PatientDetails.js\";\n\nimport React, { useEffect, useState } from \"react\";\nimport { useDispatch } from \"react-redux\";\nimport { Container, Row, Col, Card, CardHeader, Button, FormGroup } from \"shards-react\";\nimport { getDietitians, editPatientEndpoint } from \"../../apiConstants/apiConstants\";\nimport PageTitle from \"../../components/common/PageTitle\";\nimport avatar1 from \"../../images/avatars/1.jpg\";\nimport { getAllDietitians } from \"../../actions/superadmin/dietician\";\nimport { editPatient } from \"../../actions/superadmin/patients\";\nimport { useSelector } from \"react-redux\";\nimport { useHistory } from \"react-router\";\n\nvar PatientDetails = function PatientDetails() {\n  var patient = JSON.parse(localStorage.getItem(\"patient\"));\n  var dispatch = useDispatch();\n  var allDieticians = useSelector(function (state) {\n    return state.allDietitians;\n  });\n  var editedPatient = useSelector(function (state) {\n    return state.editPatient;\n  });\n\n  var _useState = useState(),\n      _useState2 = _slicedToArray(_useState, 2),\n      selectedDietitian = _useState2[0],\n      setSelectedDietitian = _useState2[1];\n\n  var _useState3 = useState(false),\n      _useState4 = _slicedToArray(_useState3, 2),\n      popUp = _useState4[0],\n      setPopUp = _useState4[1];\n\n  var _useState5 = useState(false),\n      _useState6 = _slicedToArray(_useState5, 2),\n      alert = _useState6[0],\n      setAlert = _useState6[1];\n\n  var history = useHistory();\n  useEffect(function () {\n    console.log(allDieticians);\n  }, [allDieticians]);\n  useEffect(function () {\n    if (editedPatient.isSuccessful) {\n      setAlert(true);\n    }\n\n    console.log(editedPatient);\n  }, [editedPatient]);\n  useEffect(function () {\n    if (alert) {\n      setTimeout(function () {\n        setAlert(false);\n        history.push(\"/superadmin/patients\");\n      }, 2000);\n    }\n  }, [alert]);\n  console.log(patient);\n\n  var handleSubmit = function handleSubmit() {\n    var control = _objectSpread({}, patient, {\n      age: \"\".concat(patient.age),\n      weight: \"\".concat(patient.weight),\n      assignedDietitian: selectedDietitian\n    });\n\n    delete control.createdAt;\n    delete control.updatedAt;\n    delete control.id;\n    var endpoint = editPatientEndpoint + patient.id;\n    console.log(endpoint);\n    dispatch(editPatient(endpoint, control));\n  };\n\n  useEffect(function () {\n    if (popUp) {\n      var endpoint = getDietitians + patient.companyCode;\n      dispatch(getAllDietitians(endpoint));\n    }\n  }, [popUp]);\n  useEffect(function () {\n    dispatch(getAllDietitians());\n  }, []);\n\n  var close = function close() {\n    setPopUp(false);\n    selectedDietitian(\"\");\n  };\n\n  return /*#__PURE__*/React.createElement(Container, {\n    fluid: true,\n    className: \"main-content-container px-4\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 5\n    }\n  }, alert && /*#__PURE__*/React.createElement(Container, {\n    fluid: true,\n    className: \"px-0 sticky-top\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Alert, {\n    className: \"mb-0 text-center\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"i\", {\n    className: \"fa fa-info mx-2\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 13\n    }\n  }), \"Company Registered!\")), /*#__PURE__*/React.createElement(Row, {\n    noGutters: true,\n    className: \"page-header py-4\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(PageTitle, {\n    title: \"Patient Profile\",\n    subtitle: \"Overview\",\n    md: \"12\",\n    className: \"ml-sm-auto mr-sm-auto\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 9\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"\".concat(popUp ? \"d-block\" : \"d-none\"),\n    style: {\n      position: \"absolute\",\n      top: 0,\n      left: 0,\n      height: \"100%\",\n      width: \"100%\",\n      zIndex: 10,\n      background: \"rgba(0,0,0,.24\"\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(Col, {\n    lg: \"12\",\n    className: \"d-flex flex-column justify-content-center align-items-center mb-5\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Card, {\n    className: \"\".concat(popUp ? \"d-block\" : \"d-none\", \" pb-3\"),\n    style: {\n      position: \"absolute\",\n      zIndex: 1000,\n      width: 400,\n      top: \"30%\"\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 120,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    class: \"material-icons\",\n    style: {\n      position: \"absolute\",\n      top: 10,\n      right: 10,\n      cursor: \"pointer\"\n    },\n    onClick: function onClick() {\n      return close();\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 124,\n      columnNumber: 11\n    }\n  }, \"close\"), /*#__PURE__*/React.createElement(CardHeader, {\n    className: \"border-bottom\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 136,\n      columnNumber: 11\n    }\n  }, \"Select Admin to assign to\"), /*#__PURE__*/React.createElement(Col, {\n    className: \"p-3 pb-0 \".concat(selectedDietitian && \"border-bottom\"),\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 139,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"fieldset\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 140,\n      columnNumber: 13\n    }\n  }, allDieticians.data && allDieticians.data.map(function (dietitian, i) {\n    return /*#__PURE__*/React.createElement(FormGroup, {\n      key: \"item-\".concat(i + 1),\n      style: {\n        cursor: \"pointer\"\n      },\n      className: \"mb-0\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 144,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      type: \"radio\",\n      value: dietitian.id,\n      onChange: function onChange(_ref) {\n        var target = _ref.target;\n        return setSelectedDietitian(target.value);\n      },\n      className: \"mr-2\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 149,\n        columnNumber: 23\n      }\n    }), /*#__PURE__*/React.createElement(\"span\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 157,\n        columnNumber: 23\n      }\n    }, dietitian.name));\n  }))), selectedDietitian && /*#__PURE__*/React.createElement(Col, {\n    className: \"pt-2\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 164,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    disabled: selectedDietitian ? false : true,\n    className: \"ml-3\",\n    onClick: handleSubmit,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 165,\n      columnNumber: 15\n    }\n  }, \"Assign\"))), /*#__PURE__*/React.createElement(Card, {\n    style: {\n      width: \"100%\",\n      maxWidth: \"500px\"\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 175,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    style: {\n      position: \"absolute\",\n      top: \"10px\",\n      right: \"15px\",\n      color: \"#52b5e9\",\n      border: \"1px solid #52b5e9\",\n      borderRadius: \"50px\"\n    },\n    className: \"py-1 px-2\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 176,\n      columnNumber: 11\n    }\n  }, patient.assignedDietitian !== undefined ? \"Assigned\" : \"Unassigned\"), /*#__PURE__*/React.createElement(CardHeader, {\n    className: \"border-bottom text-center\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 191,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"mb-3 mx-auto\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 192,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    className: \"rounded-circle\",\n    src: avatar1,\n    alt: patient.name,\n    width: \"110\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 193,\n      columnNumber: 15\n    }\n  })), /*#__PURE__*/React.createElement(\"h4\", {\n    className: \"mb-0\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 200,\n      columnNumber: 13\n    }\n  }, patient.name), /*#__PURE__*/React.createElement(\"span\", {\n    className: \"text-muted d-block mb-2\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 201,\n      columnNumber: 13\n    }\n  }, patient.email), /*#__PURE__*/React.createElement(\"span\", {\n    className: \"text-muted d-block mb-2\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 202,\n      columnNumber: 13\n    }\n  }, patient.phone), patient.assignedDietitian === undefined && /*#__PURE__*/React.createElement(Button, {\n    pill: true,\n    outline: true,\n    size: \"sm\",\n    className: \"mb-2\",\n    onClick: function onClick() {\n      return setPopUp(true);\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 204,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"i\", {\n    className: \"material-icons mr-1\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 211,\n      columnNumber: 17\n    }\n  }, \"person_add\"), \" Assign to Dietitian\")), /*#__PURE__*/React.createElement(Col, {\n    className: \"border-bottom\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 216,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"h5\", {\n    className: \"mb-1 mt-1\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 217,\n      columnNumber: 13\n    }\n  }, \"Bio Data\"), /*#__PURE__*/React.createElement(Col, {\n    className: \"d-flex flex-row\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 218,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"h6\", {\n    className: \"mr-2\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 219,\n      columnNumber: 15\n    }\n  }, \"Age:\"), \" \", \"  \", /*#__PURE__*/React.createElement(\"span\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 220,\n      columnNumber: 15\n    }\n  }, patient.age)), /*#__PURE__*/React.createElement(Col, {\n    className: \"d-flex flex-row\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 222,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"h6\", {\n    className: \"mr-2\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 223,\n      columnNumber: 15\n    }\n  }, \"Weight:\"), \"  \", /*#__PURE__*/React.createElement(\"span\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 225,\n      columnNumber: 15\n    }\n  }, patient.weight))), /*#__PURE__*/React.createElement(Col, {\n    className: \"border-bottom\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 228,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"h5\", {\n    className: \"mb-1 mt-1\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 229,\n      columnNumber: 13\n    }\n  }, \"Health\"), /*#__PURE__*/React.createElement(Col, {\n    className: \"d-flex flex-row\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 230,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"h6\", {\n    className: \"mr-2\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 231,\n      columnNumber: 15\n    }\n  }, \"Condition:\"), \" \", \"  \", /*#__PURE__*/React.createElement(\"span\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 232,\n      columnNumber: 15\n    }\n  }, patient.healthCondition.join(\", \").toString())), /*#__PURE__*/React.createElement(Col, {\n    className: \"d-flex flex-row\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 234,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"h6\", {\n    className: \"mr-2\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 235,\n      columnNumber: 15\n    }\n  }, \"Goal:\"), \"  \", /*#__PURE__*/React.createElement(\"span\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 237,\n      columnNumber: 15\n    }\n  }, patient.healthGoal)), /*#__PURE__*/React.createElement(Col, {\n    className: \"d-flex flex-row\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 239,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"h6\", {\n    className: \"mr-2\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 240,\n      columnNumber: 15\n    }\n  }, \"Food Prefence:\"), \"  \", /*#__PURE__*/React.createElement(\"span\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 242,\n      columnNumber: 15\n    }\n  }, patient.foodPreference.join(\", \").toString()))), patient.assignedDietician && /*#__PURE__*/React.createElement(Col, {\n    className: \"d-flex flex-row mb-3 mt-2\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 246,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"h6\", {\n    className: \"mr-2\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 247,\n      columnNumber: 15\n    }\n  }, \"Dietician:\"), \" \", \"  \", /*#__PURE__*/React.createElement(\"span\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 248,\n      columnNumber: 15\n    }\n  }, patient.assignedDietician)), /*#__PURE__*/React.createElement(Col, {\n    className: \"d-flex flex-row mb-3 mt-2\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 251,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"h6\", {\n    className: \"mr-2\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 252,\n      columnNumber: 13\n    }\n  }, \"Subscription:\"), \" \", \"  \", /*#__PURE__*/React.createElement(\"span\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 253,\n      columnNumber: 13\n    }\n  }, patient.subscriptionPackage)))));\n};\n\nexport default PatientDetails;","map":{"version":3,"sources":["/home/joblyn/Desktop/health.workcradle/src/pages/superadmin/PatientDetails.js"],"names":["React","useEffect","useState","useDispatch","Container","Row","Col","Card","CardHeader","Button","FormGroup","getDietitians","editPatientEndpoint","PageTitle","avatar1","getAllDietitians","editPatient","useSelector","useHistory","PatientDetails","patient","JSON","parse","localStorage","getItem","dispatch","allDieticians","state","allDietitians","editedPatient","selectedDietitian","setSelectedDietitian","popUp","setPopUp","alert","setAlert","history","console","log","isSuccessful","setTimeout","push","handleSubmit","control","age","weight","assignedDietitian","createdAt","updatedAt","id","endpoint","companyCode","close","position","top","left","height","width","zIndex","background","right","cursor","data","map","dietitian","i","target","value","name","maxWidth","color","border","borderRadius","undefined","email","phone","healthCondition","join","toString","healthGoal","foodPreference","assignedDietician","subscriptionPackage"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport { useDispatch } from \"react-redux\";\nimport {\n  Container,\n  Row,\n  Col,\n  Card,\n  CardHeader,\n  Button,\n  FormGroup,\n} from \"shards-react\";\nimport {\n  getDietitians,\n  editPatientEndpoint,\n} from \"../../apiConstants/apiConstants\";\n\nimport PageTitle from \"../../components/common/PageTitle\";\nimport avatar1 from \"../../images/avatars/1.jpg\";\nimport { getAllDietitians } from \"../../actions/superadmin/dietician\";\nimport { editPatient } from \"../../actions/superadmin/patients\";\nimport { useSelector } from \"react-redux\";\nimport { useHistory } from \"react-router\";\n\nconst PatientDetails = () => {\n  const patient = JSON.parse(localStorage.getItem(\"patient\"));\n  const dispatch = useDispatch();\n  const allDieticians = useSelector((state) => state.allDietitians);\n  const editedPatient = useSelector((state) => state.editPatient);\n  const [selectedDietitian, setSelectedDietitian] = useState();\n  const [popUp, setPopUp] = useState(false);\n  const [alert, setAlert] = useState(false);\n  const history = useHistory();\n\n  useEffect(() => {\n    console.log(allDieticians);\n  }, [allDieticians]);\n\n  useEffect(() => {\n    if (editedPatient.isSuccessful) {\n      setAlert(true);\n    }\n    console.log(editedPatient);\n  }, [editedPatient]);\n\n  useEffect(() => {\n    if (alert) {\n      setTimeout(() => {\n        setAlert(false);\n        history.push(\"/superadmin/patients\");\n      }, 2000);\n    }\n  }, [alert]);\n\n  console.log(patient);\n\n  const handleSubmit = () => {\n    const control = {\n      ...patient,\n      age: `${patient.age}`,\n      weight: `${patient.weight}`,\n      assignedDietitian: selectedDietitian,\n    };\n    delete control.createdAt;\n    delete control.updatedAt;\n    delete control.id;\n    let endpoint = editPatientEndpoint + patient.id;\n    console.log(endpoint);\n    dispatch(editPatient(endpoint, control));\n  };\n\n  useEffect(() => {\n    if (popUp) {\n      let endpoint = getDietitians + patient.companyCode;\n      dispatch(getAllDietitians(endpoint));\n    }\n  }, [popUp]);\n\n  useEffect(() => {\n    dispatch(getAllDietitians());\n  }, []);\n\n  const close = () => {\n    setPopUp(false);\n    selectedDietitian(\"\");\n  };\n\n  return (\n    <Container fluid className=\"main-content-container px-4\">\n      {alert && (\n        <Container fluid className=\"px-0 sticky-top\">\n          <Alert className=\"mb-0 text-center\">\n            <i className=\"fa fa-info mx-2\"></i>Company Registered!\n          </Alert>\n        </Container>\n      )}\n      <Row noGutters className=\"page-header py-4\">\n        <PageTitle\n          title=\"Patient Profile\"\n          subtitle=\"Overview\"\n          md=\"12\"\n          className=\"ml-sm-auto mr-sm-auto\"\n        />\n      </Row>\n      <div\n        className={`${popUp ? \"d-block\" : \"d-none\"}`}\n        style={{\n          position: \"absolute\",\n          top: 0,\n          left: 0,\n          height: \"100%\",\n          width: \"100%\",\n          zIndex: 10,\n          background: \"rgba(0,0,0,.24\",\n        }}\n      ></div>\n      <Col\n        lg=\"12\"\n        className=\"d-flex flex-column justify-content-center align-items-center mb-5\"\n      >\n        <Card\n          className={`${popUp ? \"d-block\" : \"d-none\"} pb-3`}\n          style={{ position: \"absolute\", zIndex: 1000, width: 400, top: \"30%\" }}\n        >\n          <span\n            class=\"material-icons\"\n            style={{\n              position: \"absolute\",\n              top: 10,\n              right: 10,\n              cursor: \"pointer\",\n            }}\n            onClick={() => close()}\n          >\n            close\n          </span>\n          <CardHeader className=\"border-bottom\">\n            Select Admin to assign to\n          </CardHeader>\n          <Col className={`p-3 pb-0 ${selectedDietitian && \"border-bottom\"}`}>\n            <fieldset>\n              {allDieticians.data &&\n                allDieticians.data.map((dietitian, i) => {\n                  return (\n                    <FormGroup\n                      key={`item-${i + 1}`}\n                      style={{ cursor: \"pointer\" }}\n                      className=\"mb-0\"\n                    >\n                      <input\n                        type=\"radio\"\n                        value={dietitian.id}\n                        onChange={({ target }) =>\n                          setSelectedDietitian(target.value)\n                        }\n                        className=\"mr-2\"\n                      />\n                      <span>{dietitian.name}</span>\n                    </FormGroup>\n                  );\n                })}\n            </fieldset>\n          </Col>\n          {selectedDietitian && (\n            <Col className=\"pt-2\">\n              <Button\n                disabled={selectedDietitian ? false : true}\n                className=\"ml-3\"\n                onClick={handleSubmit}\n              >\n                Assign\n              </Button>\n            </Col>\n          )}\n        </Card>\n        <Card style={{ width: \"100%\", maxWidth: \"500px\" }}>\n          <p\n            style={{\n              position: \"absolute\",\n              top: \"10px\",\n              right: \"15px\",\n              color: \"#52b5e9\",\n              border: \"1px solid #52b5e9\",\n              borderRadius: \"50px\",\n            }}\n            className=\"py-1 px-2\"\n          >\n            {patient.assignedDietitian !== undefined\n              ? \"Assigned\"\n              : \"Unassigned\"}\n          </p>\n          <CardHeader className=\"border-bottom text-center\">\n            <div className=\"mb-3 mx-auto\">\n              <img\n                className=\"rounded-circle\"\n                src={avatar1}\n                alt={patient.name}\n                width=\"110\"\n              />\n            </div>\n            <h4 className=\"mb-0\">{patient.name}</h4>\n            <span className=\"text-muted d-block mb-2\">{patient.email}</span>\n            <span className=\"text-muted d-block mb-2\">{patient.phone}</span>\n            {patient.assignedDietitian === undefined && (\n              <Button\n                pill\n                outline\n                size=\"sm\"\n                className=\"mb-2\"\n                onClick={() => setPopUp(true)}\n              >\n                <i className=\"material-icons mr-1\">person_add</i> Assign to\n                Dietitian\n              </Button>\n            )}\n          </CardHeader>\n          <Col className=\"border-bottom\">\n            <h5 className=\"mb-1 mt-1\">Bio Data</h5>\n            <Col className=\"d-flex flex-row\">\n              <h6 className=\"mr-2\">Age:</h6> {\"  \"}\n              <span>{patient.age}</span>\n            </Col>\n            <Col className=\"d-flex flex-row\">\n              <h6 className=\"mr-2\">Weight:</h6>\n              {\"  \"}\n              <span>{patient.weight}</span>\n            </Col>\n          </Col>\n          <Col className=\"border-bottom\">\n            <h5 className=\"mb-1 mt-1\">Health</h5>\n            <Col className=\"d-flex flex-row\">\n              <h6 className=\"mr-2\">Condition:</h6> {\"  \"}\n              <span>{patient.healthCondition.join(\", \").toString()}</span>\n            </Col>\n            <Col className=\"d-flex flex-row\">\n              <h6 className=\"mr-2\">Goal:</h6>\n              {\"  \"}\n              <span>{patient.healthGoal}</span>\n            </Col>\n            <Col className=\"d-flex flex-row\">\n              <h6 className=\"mr-2\">Food Prefence:</h6>\n              {\"  \"}\n              <span>{patient.foodPreference.join(\", \").toString()}</span>\n            </Col>\n          </Col>\n          {patient.assignedDietician && (\n            <Col className=\"d-flex flex-row mb-3 mt-2\">\n              <h6 className=\"mr-2\">Dietician:</h6> {\"  \"}\n              <span>{patient.assignedDietician}</span>\n            </Col>\n          )}\n          <Col className=\"d-flex flex-row mb-3 mt-2\">\n            <h6 className=\"mr-2\">Subscription:</h6> {\"  \"}\n            <span>{patient.subscriptionPackage}</span>\n          </Col>\n        </Card>\n      </Col>\n    </Container>\n  );\n};\n\nexport default PatientDetails;\n"]},"metadata":{},"sourceType":"module"}