{"ast":null,"code":"import _slicedToArray from \"/home/joblyn/Desktop/health.workcradle/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/home/joblyn/Desktop/health.workcradle/src/pages/superadmin/Dietitians.js\";\nimport React, { useEffect, useState } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { useHistory } from \"react-router-dom\";\nimport avatar1 from \"../../images/avatars/1.jpg\";\nimport { Container, Row, Col, Card, CardHeader, Button } from \"shards-react\";\nimport { getAllDietitians } from \"../../actions/superadmin/dietitian\";\nimport { getDietitians } from \"../../apiConstants/apiConstants\";\nimport PageTitle from \"../../components/common/PageTitle\";\nimport PageSpinner from \"../../components/common/PageSpinner\";\nexport default function Dietitians(params) {\n  var _this = this;\n\n  var _useState = useState(),\n      _useState2 = _slicedToArray(_useState, 2),\n      dietitians = _useState2[0],\n      setDietitians = _useState2[1];\n\n  var allDietitians = useSelector(function (state) {\n    return state.allDietitians;\n  });\n  var dispatch = useDispatch();\n  var history = useHistory();\n  var companyCode = JSON.parse(localStorage.getItem(\"loggedInUser\")).companyCode;\n  useEffect(function () {\n    var endpoint = getDietitians + companyCode;\n    console.log(endpoint);\n    dispatch(getAllDietitians(endpoint));\n  }, []);\n  useEffect(function () {\n    setDietitians(allDietitians.data && allDietitians.data.filter(function (dietitian) {\n      return dietitian.Dietitian.companyCode === companyCode;\n    }));\n    console.log(allDietitians);\n  }, [allDietitians]);\n  console.log(dietitians);\n\n  if (!dietitians) {\n    return /*#__PURE__*/React.createElement(PageSpinner, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 38,\n        columnNumber: 12\n      }\n    });\n  }\n\n  return /*#__PURE__*/React.createElement(Container, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Row, {\n    noGutters: true,\n    className: \"page-header py-4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(PageTitle, {\n    sm: \"4\",\n    title: \"Dietitians\",\n    subtitle: \"Dashboard\",\n    className: \"text-sm-left\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 9\n    }\n  })), /*#__PURE__*/React.createElement(Row, {\n    style: {\n      display: \"grid\",\n      gridGap: \"20px\",\n      gridTemplateColumns: \"repeat(auto-fill,minmax(250px,1fr))\",\n      minHeight: \"65vh\"\n    },\n    className: \"m-0 mb-5\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 7\n    }\n  }, dietitians && dietitians.length ? dietitians.map(function (dietitian, i) {\n    return /*#__PURE__*/React.createElement(Col, {\n      className: \"p-0\",\n      key: \"dietitian-\".concat(i + 1),\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(Card, {\n      small: true,\n      className: \"p-3\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(CardHeader, {\n      className: \"border-bottom text-center\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"mb-3 mx-auto\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      className: \"rounded-circle\",\n      src: avatar1,\n      alt: \"John Doe\",\n      width: \"110px\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 23\n      }\n    })), /*#__PURE__*/React.createElement(\"h4\", {\n      className: \"mb-0\",\n      style: {\n        fontSize: \"1.3rem\"\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 21\n      }\n    }, dietitian.Dietitian.name), /*#__PURE__*/React.createElement(\"span\", {\n      className: \"text-muted d-block mb-1\",\n      style: {\n        fontSize: \".9rem\"\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 21\n      }\n    }, dietitian.Dietitian.email), /*#__PURE__*/React.createElement(\"span\", {\n      className: \"text-muted d-block mb-2\",\n      style: {\n        fontSize: \".9rem\"\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 21\n      }\n    }, dietitian.Dietitian.phone)), dietitian.Patient ? /*#__PURE__*/React.createElement(Button, {\n      pill: true,\n      outline: true,\n      size: \"sm\",\n      className: \"mb-2 mt-2\",\n      style: {\n        fontSize: \".85rem\"\n      },\n      onClick: function onClick() {\n        localStorage.setItem(\"dietitian\", JSON.stringify(dietitian.Dietitian));\n        history.push(\"/superadmin/dietitian/patients\");\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 21\n      }\n    }, \"View patients\") : /*#__PURE__*/React.createElement(Button, {\n      pill: true,\n      outline: true,\n      size: \"sm\",\n      className: \"mb-2 mt-2\",\n      style: {\n        fontSize: \".85rem\"\n      },\n      disabled: true,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 109,\n        columnNumber: 21\n      }\n    }, \"No patients assigned\")));\n  }) : /*#__PURE__*/React.createElement(\"h5\", {\n    className: \"text-muted\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 125,\n      columnNumber: 11\n    }\n  }, \"There are no dietitians registered.\")));\n}","map":{"version":3,"sources":["/home/joblyn/Desktop/health.workcradle/src/pages/superadmin/Dietitians.js"],"names":["React","useEffect","useState","useDispatch","useSelector","useHistory","avatar1","Container","Row","Col","Card","CardHeader","Button","getAllDietitians","getDietitians","PageTitle","PageSpinner","Dietitians","params","dietitians","setDietitians","allDietitians","state","dispatch","history","companyCode","JSON","parse","localStorage","getItem","endpoint","console","log","data","filter","dietitian","Dietitian","display","gridGap","gridTemplateColumns","minHeight","length","map","i","fontSize","name","email","phone","Patient","setItem","stringify","push"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { useHistory } from \"react-router-dom\";\nimport avatar1 from \"../../images/avatars/1.jpg\";\nimport { Container, Row, Col, Card, CardHeader, Button } from \"shards-react\";\n\nimport { getAllDietitians } from \"../../actions/superadmin/dietitian\";\nimport { getDietitians } from \"../../apiConstants/apiConstants\";\nimport PageTitle from \"../../components/common/PageTitle\";\nimport PageSpinner from \"../../components/common/PageSpinner\";\n\nexport default function Dietitians(params) {\n  const [dietitians, setDietitians] = useState();\n  const allDietitians = useSelector((state) => state.allDietitians);\n  const dispatch = useDispatch();\n  const history = useHistory();\n  let companyCode = JSON.parse(localStorage.getItem(\"loggedInUser\"))\n    .companyCode;\n\n  useEffect(() => {\n    let endpoint = getDietitians + companyCode;\n    console.log(endpoint);\n    dispatch(getAllDietitians(endpoint));\n  }, []);\n\n  useEffect(() => {\n    setDietitians(\n      allDietitians.data &&\n        allDietitians.data.filter(\n          (dietitian) => dietitian.Dietitian.companyCode === companyCode\n        )\n    );\n    console.log(allDietitians);\n  }, [allDietitians]);\n  console.log(dietitians);\n\n  if (!dietitians) {\n    return <PageSpinner />;\n  }\n\n  return (\n    <Container>\n      <Row noGutters className=\"page-header py-4\">\n        <PageTitle\n          sm=\"4\"\n          title=\"Dietitians\"\n          subtitle=\"Dashboard\"\n          className=\"text-sm-left\"\n        />\n      </Row>\n      <Row\n        style={{\n          display: \"grid\",\n          gridGap: \"20px\",\n          gridTemplateColumns: \"repeat(auto-fill,minmax(250px,1fr))\",\n          minHeight: \"65vh\",\n        }}\n        className=\"m-0 mb-5\"\n      >\n        {dietitians && dietitians.length ? (\n          dietitians.map((dietitian, i) => {\n            return (\n              <Col className=\"p-0\" key={`dietitian-${i + 1}`}>\n                <Card small className=\"p-3\">\n                  <CardHeader className=\"border-bottom text-center\">\n                    <div className=\"mb-3 mx-auto\">\n                      <img\n                        className=\"rounded-circle\"\n                        src={avatar1}\n                        alt=\"John Doe\"\n                        width=\"110px\"\n                      />\n                    </div>\n                    <h4 className=\"mb-0\" style={{ fontSize: \"1.3rem\" }}>\n                      {dietitian.Dietitian.name}\n                    </h4>\n                    <span\n                      className=\"text-muted d-block mb-1\"\n                      style={{ fontSize: \".9rem\" }}\n                    >\n                      {dietitian.Dietitian.email}\n                    </span>\n                    <span\n                      className=\"text-muted d-block mb-2\"\n                      style={{ fontSize: \".9rem\" }}\n                    >\n                      {dietitian.Dietitian.phone}\n                    </span>\n                  </CardHeader>\n\n                  { dietitian.Patient ? (\n                    <Button\n                      pill\n                      outline\n                      size=\"sm\"\n                      className=\"mb-2 mt-2\"\n                      style={{ fontSize: \".85rem\" }}\n                      onClick={() => {\n                        localStorage.setItem(\n                          \"dietitian\",\n                          JSON.stringify(dietitian.Dietitian)\n                        );\n                        history.push(\"/superadmin/dietitian/patients\");\n                      }}\n                    >\n                      View patients\n                    </Button>\n                  ) : (\n                    <Button\n                      pill\n                      outline\n                      size=\"sm\"\n                      className=\"mb-2 mt-2\"\n                      style={{ fontSize: \".85rem\" }}\n                      disabled={true}\n                    >\n                      No patients assigned\n                    </Button>\n                  )}\n                </Card>\n              </Col>\n            );\n          })\n        ) : (\n          <h5 className=\"text-muted\">There are no dietitians registered.</h5>\n        )}\n      </Row>\n    </Container>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}