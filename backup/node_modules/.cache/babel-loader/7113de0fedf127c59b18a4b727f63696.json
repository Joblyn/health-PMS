{"ast":null,"code":"import _defineProperty from \"/home/joblyn/Desktop/health.workcradle/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _objectSpread from \"/home/joblyn/Desktop/health.workcradle/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nimport _toConsumableArray from \"/home/joblyn/Desktop/health.workcradle/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\nimport _slicedToArray from \"/home/joblyn/Desktop/health.workcradle/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\n\nvar _this = this,\n    _jsxFileName = \"/home/joblyn/Desktop/health.workcradle/src/pages/superadmin/PatientDetails.js\";\n\nimport React, { useEffect, useState } from \"react\";\nimport { useDispatch } from \"react-redux\";\nimport { Container, Row, Col, Card, CardHeader, Button, FormGroup, Alert, FormInput } from \"shards-react\";\nimport { getDietitians, editPatientEndpoint, deletePatientEndpoint } from \"../../apiConstants/apiConstants\";\nimport PageTitle from \"../../components/common/PageTitle\";\nimport avatar1 from \"../../images/avatars/1.jpg\";\nimport { getAllDietitians } from \"../../actions/superadmin/dietitian\";\nimport { editPatient, deletePatientAction } from \"../../actions/superadmin/patients\";\nimport { useSelector } from \"react-redux\";\nimport { useHistory } from \"react-router\";\nimport CustomSelect from \"../../components/components-overview/CustomSelect\";\nimport PageSpinner from \"../../components/common/PageSpinner\";\n\nvar PatientDetails = function PatientDetails() {\n  var patient = JSON.parse(localStorage.getItem(\"patient\"));\n  var companyCode = JSON.parse(localStorage.getItem(\"loggedInUser\")).companyCode;\n  var dispatch = useDispatch();\n  var allDietitians = useSelector(function (state) {\n    return state.allDietitians;\n  });\n  var editedPatient = useSelector(function (state) {\n    return state.editPatient;\n  });\n\n  var _useState = useState(),\n      _useState2 = _slicedToArray(_useState, 2),\n      selectedDietitian = _useState2[0],\n      setSelectedDietitian = _useState2[1];\n\n  var _useState3 = useState(),\n      _useState4 = _slicedToArray(_useState3, 2),\n      assignedDietitian = _useState4[0],\n      setAssignedDietitian = _useState4[1];\n\n  var _useState5 = useState(false),\n      _useState6 = _slicedToArray(_useState5, 2),\n      popUp = _useState6[0],\n      setPopUp = _useState6[1];\n\n  var _useState7 = useState(false),\n      _useState8 = _slicedToArray(_useState7, 2),\n      alert = _useState8[0],\n      setAlert = _useState8[1];\n\n  var _useState9 = useState(false),\n      _useState10 = _slicedToArray(_useState9, 2),\n      editted = _useState10[0],\n      setEditted = _useState10[1];\n\n  var _useState11 = useState(false),\n      _useState12 = _slicedToArray(_useState11, 2),\n      edit = _useState12[0],\n      setEdit = _useState12[1];\n\n  var _useState13 = useState(false),\n      _useState14 = _slicedToArray(_useState13, 2),\n      deletePopup = _useState14[0],\n      setDeletePopup = _useState14[1];\n\n  var _useState15 = useState(_toConsumableArray(patient.foodPreference)),\n      _useState16 = _slicedToArray(_useState15, 2),\n      foodPreference = _useState16[0],\n      setFoodPreference = _useState16[1];\n\n  var _useState17 = useState(_toConsumableArray(patient.healthCondition)),\n      _useState18 = _slicedToArray(_useState17, 2),\n      healthCondition = _useState18[0],\n      setHealthCondition = _useState18[1];\n\n  var _useState19 = useState(\"\"),\n      _useState20 = _slicedToArray(_useState19, 2),\n      currentFoodPreference = _useState20[0],\n      setCurrentFoodPreference = _useState20[1];\n\n  var _useState21 = useState(\"\"),\n      _useState22 = _slicedToArray(_useState21, 2),\n      currentHealthCondition = _useState22[0],\n      setCurrentHealthCondition = _useState22[1];\n\n  var deletedPatient = useSelector(function (state) {\n    return state.deletePatient;\n  });\n  var history = useHistory();\n  useEffect(function () {\n    if (editted && editedPatient.isSuccessful) {\n      setPopUp(false);\n      setAlert(true);\n    }\n  }, [editedPatient, editted]);\n  useEffect(function () {\n    if (alert) {\n      setTimeout(function () {\n        setAlert(false);\n        history.push(\"/superadmin/patients\");\n      }, 2000);\n    }\n  }, [alert]);\n\n  var handleSubmit = function handleSubmit() {\n    var control = _objectSpread({}, patient, {\n      age: \"\".concat(patient.age),\n      weight: \"\".concat(patient.weight),\n      assignedDietitian: selectedDietitian\n    });\n\n    delete control.createdAt;\n    delete control.updatedAt;\n    delete control.id;\n    var endpoint = editPatientEndpoint + patient.id;\n    dispatch(editPatient(endpoint, control));\n    setEditted(true);\n  };\n\n  useEffect(function () {\n    var endpoint = getDietitians + patient.companyCode;\n    dispatch(getAllDietitians(endpoint));\n  }, []);\n  useEffect(function () {\n    if (allDietitians.isSuccessful) {\n      var dietitianArr = allDietitians.data.filter(function (item) {\n        return item.Dietitian.id === patient.assignedDietitian;\n      });\n      console.log(allDietitians);\n      console.log(dietitianArr[0]);\n      setAssignedDietitian(dietitianArr[0] && dietitianArr[0].Dietitian);\n    }\n  }, [allDietitians]);\n  console.log(assignedDietitian);\n\n  var close = function close() {\n    setPopUp(false);\n    setSelectedDietitian(\"\");\n  };\n\n  var addFoodPreference = function addFoodPreference() {\n    setFoodPreference([].concat(_toConsumableArray(foodPreference), [currentFoodPreference]));\n  };\n\n  var addHealthCondition = function addHealthCondition() {\n    setHealthCondition([].concat(_toConsumableArray(healthCondition), [currentHealthCondition]));\n  };\n\n  var _useState23 = useState(patient),\n      _useState24 = _slicedToArray(_useState23, 2),\n      control = _useState24[0],\n      setControl = _useState24[1];\n\n  var handleChange = function handleChange(_ref) {\n    var target = _ref.target;\n    setControl(_objectSpread({}, control, _defineProperty({}, target.name, target.value)));\n  };\n\n  var restore = function restore() {\n    setControl(patient);\n  };\n\n  useEffect(function () {\n    if (deletedPatient.isSuccessful) {\n      history.push('/superadmin/patients');\n    }\n  }, [deletedPatient]);\n\n  var deletePatient = function deletePatient() {\n    var endpoint = deletePatientEndpoint + control.id;\n    dispatch(deletePatientAction(endpoint));\n  };\n\n  var submitChanges = function submitChanges() {\n    var endpoint = editPatientEndpoint + patient.id;\n    console.log(endpoint);\n    delete control.createdAt;\n    delete control.updatedAt;\n    delete control.id;\n\n    var payload = _objectSpread({}, control, {\n      healthCondition: healthCondition,\n      foodPreference: foodPreference,\n      age: \"\".concat(control.age),\n      weight: \"\".concat(control.weight)\n    });\n\n    console.log(payload);\n    dispatch(editPatient(endpoint, payload));\n    setEditted(true);\n  };\n\n  if (!patient) {\n    return /*#__PURE__*/React.createElement(PageSpinner, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 156,\n        columnNumber: 12\n      }\n    });\n  }\n\n  return /*#__PURE__*/React.createElement(Container, {\n    fluid: true,\n    className: \"main-content-container px-4\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 160,\n      columnNumber: 5\n    }\n  }, alert && /*#__PURE__*/React.createElement(Container, {\n    fluid: true,\n    className: \"px-0 sticky-top\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 162,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Alert, {\n    className: \"mb-0 text-center\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 163,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"i\", {\n    className: \"fa fa-info mx-2\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 164,\n      columnNumber: 13\n    }\n  }), \"Editted Patient Profile.\")), /*#__PURE__*/React.createElement(Row, {\n    noGutters: true,\n    className: \"page-header py-4\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 168,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(PageTitle, {\n    title: \"Patient Profile\",\n    subtitle: \"Overview\",\n    md: \"12\",\n    className: \"ml-sm-auto mr-sm-auto\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 169,\n      columnNumber: 9\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"\".concat(popUp || deletePopup ? \"d-block\" : \"d-none\"),\n    style: {\n      position: \"absolute\",\n      top: 0,\n      left: 0,\n      height: \"100%\",\n      width: \"100%\",\n      zIndex: 10,\n      background: \"rgba(0,0,0,.24\"\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 176,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"\".concat(deletpopUp ? \"d-flex\" : \"d-none\", \" justify-content-center align-items-center\"),\n    style: {\n      width: \"100%\"\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 188,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Card, {\n    className: \"p-3 mx-auto\",\n    style: {\n      position: \"absolute\",\n      zIndex: 1000,\n      width: 400,\n      top: \"30%\"\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 194,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"text-center\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 198,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"h5\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 199,\n      columnNumber: 13\n    }\n  }, \"Delete Dietitian?\")), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"d-flex flex-row justify-content-between mt-3\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 201,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    onClick: function onClick() {\n      return setDeletePopup(false);\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 202,\n      columnNumber: 13\n    }\n  }, \"Cancel\"), /*#__PURE__*/React.createElement(Button, {\n    theme: \"danger\",\n    onClick: deletePatient,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 203,\n      columnNumber: 13\n    }\n  }, \"Delete\")))), /*#__PURE__*/React.createElement(Col, {\n    lg: \"12\",\n    className: \"d-flex flex-column justify-content-center align-items-center mb-5\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 209,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Card, {\n    className: \"\".concat(popUp ? \"d-block\" : \"d-none\", \" pb-3\"),\n    style: {\n      position: \"absolute\",\n      zIndex: 1000,\n      width: 400,\n      top: \"30%\"\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 213,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    class: \"material-icons\",\n    style: {\n      position: \"absolute\",\n      top: 10,\n      right: 10,\n      cursor: \"pointer\"\n    },\n    onClick: function onClick() {\n      return close();\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 217,\n      columnNumber: 11\n    }\n  }, \"close\"), /*#__PURE__*/React.createElement(CardHeader, {\n    className: \"border-bottom\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 229,\n      columnNumber: 11\n    }\n  }, \"Select Dietitian to assign to\"), /*#__PURE__*/React.createElement(Col, {\n    className: \"p-3 pb-0 \".concat(selectedDietitian && \"border-bottom\"),\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 232,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"fieldset\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 233,\n      columnNumber: 13\n    }\n  }, allDietitians.data && allDietitians.data.filter(function (item) {\n    return item.Dietitian.companyCode === companyCode;\n  }).map(function (dietitian, i) {\n    return /*#__PURE__*/React.createElement(FormGroup, {\n      key: \"item-\".concat(i + 1),\n      style: {\n        cursor: \"pointer\"\n      },\n      className: \"mb-1\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 239,\n        columnNumber: 23\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      type: \"radio\",\n      value: dietitian.Dietitian.id,\n      onChange: function onChange(_ref2) {\n        var target = _ref2.target;\n        return setSelectedDietitian(target.value);\n      },\n      className: \"mr-2\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 244,\n        columnNumber: 25\n      }\n    }), /*#__PURE__*/React.createElement(\"span\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 252,\n        columnNumber: 25\n      }\n    }, dietitian.Dietitian.name));\n  }))), selectedDietitian && /*#__PURE__*/React.createElement(Col, {\n    className: \"pt-2\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 259,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    disabled: selectedDietitian ? false : true,\n    className: \"ml-3\",\n    onClick: handleSubmit,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 260,\n      columnNumber: 15\n    }\n  }, \"Assign\"))), /*#__PURE__*/React.createElement(Card, {\n    style: {\n      width: \"100%\",\n      maxWidth: \"500px\"\n    },\n    className: \"pb-3\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 270,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    style: {\n      position: \"absolute\",\n      top: \"10px\",\n      right: \"15px\",\n      color: \"#52b5e9\",\n      border: \"1px solid #52b5e9\",\n      borderRadius: \"50px\"\n    },\n    className: \"py-1 px-2\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 271,\n      columnNumber: 11\n    }\n  }, control.assignedDietitian !== undefined ? \"Assigned\" : \"Unassigned\"), /*#__PURE__*/React.createElement(CardHeader, {\n    className: \"border-bottom text-center\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 286,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"mb-3 mx-auto\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 287,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    className: \"rounded-circle\",\n    src: avatar1,\n    alt: control.name,\n    width: \"110\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 288,\n      columnNumber: 15\n    }\n  })), !edit ? /*#__PURE__*/React.createElement(\"h4\", {\n    className: \"mb-0\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 296,\n      columnNumber: 15\n    }\n  }, control.name) : /*#__PURE__*/React.createElement(FormInput, {\n    type: \"email\",\n    defaultValue: control.name,\n    name: \"name\",\n    onChange: handleChange,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 298,\n      columnNumber: 15\n    }\n  }), !edit ? /*#__PURE__*/React.createElement(\"span\", {\n    className: \"text-muted d-block mb-2\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 306,\n      columnNumber: 15\n    }\n  }, control.email) : /*#__PURE__*/React.createElement(FormInput, {\n    type: \"email\",\n    defaultValue: control.email,\n    name: \"email\",\n    onChange: handleChange,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 308,\n      columnNumber: 15\n    }\n  }), !edit ? /*#__PURE__*/React.createElement(\"span\", {\n    className: \"text-muted d-block mb-2\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 316,\n      columnNumber: 15\n    }\n  }, control.phone) : /*#__PURE__*/React.createElement(FormInput, {\n    defaultValue: control.phone,\n    name: \"phone\",\n    disabled: !edit,\n    onChange: handleChange,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 318,\n      columnNumber: 15\n    }\n  }), /*#__PURE__*/React.createElement(Button, {\n    pill: true,\n    outline: true,\n    size: \"sm\",\n    className: \"mb-2\",\n    onClick: function onClick() {\n      return setPopUp(true);\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 326,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"i\", {\n    className: \"material-icons mr-1\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 333,\n      columnNumber: 17\n    }\n  }, \"person_add\"), \" Assign to Dietitian\")), /*#__PURE__*/React.createElement(Col, {\n    className: \"border-bottom \".concat(edit && \"pb-3\"),\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 338,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"h5\", {\n    className: \"mb-1 mt-1\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 339,\n      columnNumber: 13\n    }\n  }, \"Bio Data\"), /*#__PURE__*/React.createElement(Col, {\n    className: \"d-flex flex-row align-items-center \".concat(edit && \"mb-2\"),\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 340,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"h6\", {\n    className: \"mr-2 mb-0\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 343,\n      columnNumber: 15\n    }\n  }, \"Age:\"), /*#__PURE__*/React.createElement(FormInput, {\n    defaultValue: \"\".concat(control.age),\n    disabled: !edit,\n    style: !edit ? {\n      background: \"transparent\",\n      border: \"none\",\n      fontSize: \"1rem\",\n      color: \"#5a6169\"\n    } : {\n      fontSize: \"1rem\",\n      color: \"#5a6169\"\n    },\n    name: \"age\",\n    onChange: handleChange,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 344,\n      columnNumber: 15\n    }\n  })), /*#__PURE__*/React.createElement(Col, {\n    className: \"d-flex flex-row align-items-center\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 361,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"h6\", {\n    className: \"mr-2 mb-0\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 362,\n      columnNumber: 15\n    }\n  }, \"Weight:\"), /*#__PURE__*/React.createElement(FormInput, {\n    defaultValue: \"\".concat(control.weight),\n    disabled: !edit,\n    name: \"weight\",\n    style: !edit ? {\n      background: \"transparent\",\n      border: \"none\",\n      fontSize: \"1rem\"\n    } : {\n      fontSize: \"1rem\"\n    },\n    onChange: handleChange,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 363,\n      columnNumber: 15\n    }\n  }))), /*#__PURE__*/React.createElement(Col, {\n    className: \"border-bottom \".concat(edit && \"pb-3\"),\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 380,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"h5\", {\n    className: \"mb-1 mt-1\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 381,\n      columnNumber: 13\n    }\n  }, \"Health\"), /*#__PURE__*/React.createElement(Col, {\n    className: \"d-flex \".concat(edit ? \"flex-column mb-3\" : \"flex-row\"),\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 382,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"h6\", {\n    className: \"mr-2 mb-0\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 383,\n      columnNumber: 15\n    }\n  }, \"Condition:\"), edit && /*#__PURE__*/React.createElement(\"div\", {\n    className: \"d-flex flex-row\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 385,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(FormInput, {\n    name: \"foodPreference\",\n    placeholder: \"Add food item\",\n    style: {\n      width: 200\n    },\n    className: \"ml-3 mr-3\",\n    onChange: function onChange(_ref3) {\n      var target = _ref3.target;\n      return setCurrentHealthCondition(target.value);\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 386,\n      columnNumber: 19\n    }\n  }), /*#__PURE__*/React.createElement(Button, {\n    onClick: addHealthCondition,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 395,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 396,\n      columnNumber: 21\n    }\n  }, \"+\"), \"Add\")), /*#__PURE__*/React.createElement(\"span\", {\n    className: \"\".concat(edit && \"border-bottom\"),\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 400,\n      columnNumber: 15\n    }\n  }, healthCondition.join(\", \").toString())), /*#__PURE__*/React.createElement(Col, {\n    className: \"d-flex flex-row align-items-center \".concat(edit ? \"mb-3\" : \"\"),\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 404,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"h6\", {\n    className: \"mr-2 mb-0\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 409,\n      columnNumber: 15\n    }\n  }, \"Goal:\"), /*#__PURE__*/React.createElement(FormInput, {\n    defaultValue: control.healthGoal,\n    disabled: !edit,\n    style: !edit ? {\n      background: \"transparent\",\n      border: \"none\",\n      fontSize: \"1rem\",\n      color: \"#5a6169\"\n    } : {\n      fontSize: \"1rem\",\n      color: \"#5a6169\"\n    },\n    name: \"healthGoal\",\n    onChange: handleChange,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 410,\n      columnNumber: 15\n    }\n  })), /*#__PURE__*/React.createElement(Col, {\n    className: \"d-flex \".concat(edit ? \"flex-column\" : \"flex-row\"),\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 427,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"h6\", {\n    className: \"mr-2\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 428,\n      columnNumber: 15\n    }\n  }, \"Food Prefence:\"), edit && /*#__PURE__*/React.createElement(\"div\", {\n    className: \"d-flex flex-row\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 430,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(FormInput, {\n    name: \"foodPreference\",\n    placeholder: \"Add food item\",\n    style: {\n      width: 200\n    },\n    className: \"ml-3 mr-3\",\n    onChange: function onChange(_ref4) {\n      var target = _ref4.target;\n      return setCurrentFoodPreference(target.value);\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 431,\n      columnNumber: 19\n    }\n  }), /*#__PURE__*/React.createElement(Button, {\n    onClick: addFoodPreference,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 440,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 441,\n      columnNumber: 21\n    }\n  }, \"+\"), \"Add\")), /*#__PURE__*/React.createElement(\"span\", {\n    className: \"\".concat(edit && \"border-bottom\"),\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 445,\n      columnNumber: 15\n    }\n  }, foodPreference.join(\", \").toString()))), /*#__PURE__*/React.createElement(Col, {\n    className: \"d-flex flex-row mt-2 border-bottom\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 451,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"h6\", {\n    className: \"mr-2\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 452,\n      columnNumber: 13\n    }\n  }, \"Dietitian:\"), /*#__PURE__*/React.createElement(\"span\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 453,\n      columnNumber: 13\n    }\n  }, assignedDietitian ? assignedDietitian.name : /*#__PURE__*/React.createElement(\"em\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 454,\n      columnNumber: 61\n    }\n  }, \"Unassigned\"))), /*#__PURE__*/React.createElement(Col, {\n    className: \"d-flex flex-row mt-2 mb-2 align-items-center\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 457,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"h6\", {\n    className: \"mr-2 mb-0\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 458,\n      columnNumber: 13\n    }\n  }, \"Subscription:\"), /*#__PURE__*/React.createElement(CustomSelect, {\n    label: \"\",\n    options: [\"Try Out Package\", \"Basic Package\", \"Platinum Package\", \"Premium Package\"],\n    type: \"edit\",\n    disabled: !edit,\n    handleChange: handleChange,\n    selected: control.subscriptionPackage,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 459,\n      columnNumber: 13\n    }\n  })), /*#__PURE__*/React.createElement(Col, {\n    className: \"mb-5\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 473,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Col, {\n    className: \"d-flex flex-row align-items-center mb-2\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 475,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"h6\", {\n    className: \"mr-2 mb-0\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 476,\n      columnNumber: 17\n    }\n  }, \"Subscription Start:\"), !edit ? control.subscriptionStartDate ? /*#__PURE__*/React.createElement(FormInput, {\n    type: \"date\",\n    name: \"subscriptionStartDate\",\n    onChange: handleChange,\n    defaultValue: control.subscriptionStartDate,\n    disabled: !edit,\n    style: edit ? {\n      width: 200,\n      background: \"transparent\"\n    } : {\n      width: 200,\n      background: \"transparent\",\n      border: \"none\"\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 479,\n      columnNumber: 21\n    }\n  }) : /*#__PURE__*/React.createElement(\"span\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 496,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"em\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 497,\n      columnNumber: 23\n    }\n  }, \"not set\")) : /*#__PURE__*/React.createElement(FormInput, {\n    type: \"date\",\n    name: \"subscriptionStartDate\",\n    onChange: handleChange,\n    defaultValue: control.subscriptionStartDate,\n    style: {\n      width: 200\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 501,\n      columnNumber: 19\n    }\n  })), /*#__PURE__*/React.createElement(Col, {\n    className: \"d-flex flex-row align-items-center mb-2\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 510,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"h6\", {\n    className: \"mr-2 mb-0\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 511,\n      columnNumber: 17\n    }\n  }, \"Subscription End:\"), !edit ? control.subscriptionEndDate ? /*#__PURE__*/React.createElement(FormInput, {\n    type: \"date\",\n    name: \"subscriptionEndDate\",\n    onChange: handleChange,\n    defaultValue: control.subscriptionEndDate,\n    disabled: !edit,\n    style: edit ? {\n      width: 200,\n      background: \"transparent\"\n    } : {\n      width: 200,\n      background: \"transparent\",\n      border: \"none\"\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 514,\n      columnNumber: 21\n    }\n  }) : /*#__PURE__*/React.createElement(\"span\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 531,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"em\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 532,\n      columnNumber: 23\n    }\n  }, \"not set\")) : /*#__PURE__*/React.createElement(FormInput, {\n    type: \"date\",\n    name: \"subscriptionEndDate\",\n    onChange: handleChange,\n    defaultValue: control.subscriptionEndDate,\n    style: {\n      width: 200\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 536,\n      columnNumber: 19\n    }\n  })))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"d-flex flew-row\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 547,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    className: \"ml-3\",\n    onClick: edit ? submitChanges : function () {\n      return setEdit(true);\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 548,\n      columnNumber: 13\n    }\n  }, edit ? \"Submit Changes\" : \"Edit Patient Profile\"), edit && /*#__PURE__*/React.createElement(Button, {\n    theme: \"danger\",\n    className: \"ml-3\",\n    onClick: function onClick() {\n      restore();\n      setEdit(false);\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 555,\n      columnNumber: 15\n    }\n  }, \"Cancel Changes\"), /*#__PURE__*/React.createElement(Button, {\n    className: \"ml-3\",\n    onClick: function onClick() {\n      return setDeletePopup(true);\n    },\n    theme: \"danger\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 566,\n      columnNumber: 13\n    }\n  }, \"Delete Patient\")))));\n};\n\nexport default PatientDetails;","map":{"version":3,"sources":["/home/joblyn/Desktop/health.workcradle/src/pages/superadmin/PatientDetails.js"],"names":["React","useEffect","useState","useDispatch","Container","Row","Col","Card","CardHeader","Button","FormGroup","Alert","FormInput","getDietitians","editPatientEndpoint","deletePatientEndpoint","PageTitle","avatar1","getAllDietitians","editPatient","deletePatientAction","useSelector","useHistory","CustomSelect","PageSpinner","PatientDetails","patient","JSON","parse","localStorage","getItem","companyCode","dispatch","allDietitians","state","editedPatient","selectedDietitian","setSelectedDietitian","assignedDietitian","setAssignedDietitian","popUp","setPopUp","alert","setAlert","editted","setEditted","edit","setEdit","deletePopup","setDeletePopup","foodPreference","setFoodPreference","healthCondition","setHealthCondition","currentFoodPreference","setCurrentFoodPreference","currentHealthCondition","setCurrentHealthCondition","deletedPatient","deletePatient","history","isSuccessful","setTimeout","push","handleSubmit","control","age","weight","createdAt","updatedAt","id","endpoint","dietitianArr","data","filter","item","Dietitian","console","log","close","addFoodPreference","addHealthCondition","setControl","handleChange","target","name","value","restore","submitChanges","payload","position","top","left","height","width","zIndex","background","deletpopUp","right","cursor","map","dietitian","i","maxWidth","color","border","borderRadius","undefined","email","phone","fontSize","join","toString","healthGoal","subscriptionPackage","subscriptionStartDate","subscriptionEndDate"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport { useDispatch } from \"react-redux\";\nimport {\n  Container,\n  Row,\n  Col,\n  Card,\n  CardHeader,\n  Button,\n  FormGroup,\n  Alert,\n  FormInput,\n} from \"shards-react\";\nimport {\n  getDietitians,\n  editPatientEndpoint,\n  deletePatientEndpoint\n} from \"../../apiConstants/apiConstants\";\n\nimport PageTitle from \"../../components/common/PageTitle\";\nimport avatar1 from \"../../images/avatars/1.jpg\";\nimport { getAllDietitians } from \"../../actions/superadmin/dietitian\";\nimport { editPatient, deletePatientAction } from \"../../actions/superadmin/patients\";\nimport { useSelector } from \"react-redux\";\nimport { useHistory } from \"react-router\";\nimport CustomSelect from \"../../components/components-overview/CustomSelect\";\nimport PageSpinner from \"../../components/common/PageSpinner\";\n\nconst PatientDetails = () => {\n  const patient = JSON.parse(localStorage.getItem(\"patient\"));\n  const companyCode = JSON.parse(localStorage.getItem(\"loggedInUser\"))\n    .companyCode;\n  const dispatch = useDispatch();\n  const allDietitians = useSelector((state) => state.allDietitians);\n  const editedPatient = useSelector((state) => state.editPatient);\n  const [selectedDietitian, setSelectedDietitian] = useState();\n  const [assignedDietitian, setAssignedDietitian] = useState();\n  const [popUp, setPopUp] = useState(false);\n  const [alert, setAlert] = useState(false);\n  const [editted, setEditted] = useState(false);\n  const [edit, setEdit] = useState(false);\n  const [deletePopup, setDeletePopup] = useState(false);\n  const [foodPreference, setFoodPreference] = useState([\n    ...patient.foodPreference,\n  ]);\n  const [healthCondition, setHealthCondition] = useState([\n    ...patient.healthCondition,\n  ]);\n  const [currentFoodPreference, setCurrentFoodPreference] = useState(\"\");\n  const [currentHealthCondition, setCurrentHealthCondition] = useState(\"\");\n  const deletedPatient = useSelector(state => state.deletePatient); \n\n  const history = useHistory();\n\n  useEffect(() => {\n    if (editted && editedPatient.isSuccessful) {\n      setPopUp(false);\n      setAlert(true);\n    }\n  }, [editedPatient, editted]);\n\n  useEffect(() => {\n    if (alert) {\n      setTimeout(() => {\n        setAlert(false);\n        history.push(\"/superadmin/patients\");\n      }, 2000);\n    }\n  }, [alert]);\n\n  const handleSubmit = () => {\n    const control = {\n      ...patient,\n      age: `${patient.age}`,\n      weight: `${patient.weight}`,\n      assignedDietitian: selectedDietitian,\n    };\n    delete control.createdAt;\n    delete control.updatedAt;\n    delete control.id;\n    let endpoint = editPatientEndpoint + patient.id;\n    dispatch(editPatient(endpoint, control));\n    setEditted(true);\n  };\n\n  useEffect(() => {\n    let endpoint = getDietitians + patient.companyCode;\n    dispatch(getAllDietitians(endpoint));\n  }, []);\n\n  useEffect(() => {\n    if (allDietitians.isSuccessful) {\n      let dietitianArr = allDietitians.data.filter(\n        (item) => item.Dietitian.id === patient.assignedDietitian\n      );\n      console.log(allDietitians);\n      console.log(dietitianArr[0]);\n      setAssignedDietitian(dietitianArr[0] && dietitianArr[0].Dietitian);\n    }\n  }, [allDietitians]);\n  console.log(assignedDietitian);\n\n  const close = () => {\n    setPopUp(false);\n    setSelectedDietitian(\"\");\n  };\n\n  const addFoodPreference = () => {\n    setFoodPreference([...foodPreference, currentFoodPreference]);\n  };\n\n  const addHealthCondition = () => {\n    setHealthCondition([...healthCondition, currentHealthCondition]);\n  };\n\n  const [control, setControl] = useState(patient);\n\n  const handleChange = ({ target }) => {\n    setControl({ ...control, [target.name]: target.value });\n  };\n\n  const restore = () => {\n    setControl(patient);\n  };\n\n  useEffect(() => {\n    if(deletedPatient.isSuccessful) {\n      history.push('/superadmin/patients');\n    }\n  }, [deletedPatient]);\n\n  const deletePatient = () => {\n    let endpoint = deletePatientEndpoint + control.id;\n    dispatch(deletePatientAction(endpoint))\n  }\n\n  const submitChanges = () => {\n    let endpoint = editPatientEndpoint + patient.id;\n    console.log(endpoint);\n    delete control.createdAt;\n    delete control.updatedAt;\n    delete control.id;\n    let payload = {\n      ...control,\n      healthCondition,\n      foodPreference,\n      age: `${control.age}`,\n      weight: `${control.weight}`,\n    };\n    console.log(payload);\n    dispatch(editPatient(endpoint, payload));\n    setEditted(true);\n  };\n\n  if (!patient) {\n    return <PageSpinner />;\n  }\n\n  return (\n    <Container fluid className=\"main-content-container px-4\">\n      {alert && (\n        <Container fluid className=\"px-0 sticky-top\">\n          <Alert className=\"mb-0 text-center\">\n            <i className=\"fa fa-info mx-2\"></i>Editted Patient Profile.\n          </Alert>\n        </Container>\n      )}\n      <Row noGutters className=\"page-header py-4\">\n        <PageTitle\n          title=\"Patient Profile\"\n          subtitle=\"Overview\"\n          md=\"12\"\n          className=\"ml-sm-auto mr-sm-auto\"\n        />\n      </Row>\n      <div\n        className={`${popUp || deletePopup ? \"d-block\" : \"d-none\"}`}\n        style={{\n          position: \"absolute\",\n          top: 0,\n          left: 0,\n          height: \"100%\",\n          width: \"100%\",\n          zIndex: 10,\n          background: \"rgba(0,0,0,.24\",\n        }}\n      ></div>\n      <div\n        className={`${\n          deletpopUp ? \"d-flex\" : \"d-none\"\n        } justify-content-center align-items-center`}\n        style={{ width: \"100%\" }}\n      >\n        <Card\n          className={`p-3 mx-auto`}\n          style={{ position: \"absolute\", zIndex: 1000, width: 400, top: \"30%\" }}\n        >\n          <div className=\"text-center\">\n            <h5>Delete Dietitian?</h5>\n          </div>\n          <div className=\"d-flex flex-row justify-content-between mt-3\">\n            <Button onClick={() => setDeletePopup(false)}>Cancel</Button>\n            <Button theme=\"danger\" onClick={deletePatient}>\n              Delete\n            </Button>\n          </div>\n        </Card>\n      </div>\n      <Col\n        lg=\"12\"\n        className=\"d-flex flex-column justify-content-center align-items-center mb-5\"\n      >\n        <Card\n          className={`${popUp ? \"d-block\" : \"d-none\"} pb-3`}\n          style={{ position: \"absolute\", zIndex: 1000, width: 400, top: \"30%\" }}\n        >\n          <span\n            class=\"material-icons\"\n            style={{\n              position: \"absolute\",\n              top: 10,\n              right: 10,\n              cursor: \"pointer\",\n            }}\n            onClick={() => close()}\n          >\n            close\n          </span>\n          <CardHeader className=\"border-bottom\">\n            Select Dietitian to assign to\n          </CardHeader>\n          <Col className={`p-3 pb-0 ${selectedDietitian && \"border-bottom\"}`}>\n            <fieldset>\n              {allDietitians.data &&\n                allDietitians.data\n                  .filter((item) => item.Dietitian.companyCode === companyCode)\n                  .map((dietitian, i) => {\n                    return (\n                      <FormGroup\n                        key={`item-${i + 1}`}\n                        style={{ cursor: \"pointer\" }}\n                        className=\"mb-1\"\n                      >\n                        <input\n                          type=\"radio\"\n                          value={dietitian.Dietitian.id}\n                          onChange={({ target }) =>\n                            setSelectedDietitian(target.value)\n                          }\n                          className=\"mr-2\"\n                        />\n                        <span>{dietitian.Dietitian.name}</span>\n                      </FormGroup>\n                    );\n                  })}\n            </fieldset>\n          </Col>\n          {selectedDietitian && (\n            <Col className=\"pt-2\">\n              <Button\n                disabled={selectedDietitian ? false : true}\n                className=\"ml-3\"\n                onClick={handleSubmit}\n              >\n                Assign\n              </Button>\n            </Col>\n          )}\n        </Card>\n        <Card style={{ width: \"100%\", maxWidth: \"500px\" }} className=\"pb-3\">\n          <p\n            style={{\n              position: \"absolute\",\n              top: \"10px\",\n              right: \"15px\",\n              color: \"#52b5e9\",\n              border: \"1px solid #52b5e9\",\n              borderRadius: \"50px\",\n            }}\n            className=\"py-1 px-2\"\n          >\n            {control.assignedDietitian !== undefined\n              ? \"Assigned\"\n              : \"Unassigned\"}\n          </p>\n          <CardHeader className=\"border-bottom text-center\">\n            <div className=\"mb-3 mx-auto\">\n              <img\n                className=\"rounded-circle\"\n                src={avatar1}\n                alt={control.name}\n                width=\"110\"\n              />\n            </div>\n            {!edit ? (\n              <h4 className=\"mb-0\">{control.name}</h4>\n            ) : (\n              <FormInput\n                type=\"email\"\n                defaultValue={control.name}\n                name=\"name\"\n                onChange={handleChange}\n              />\n            )}\n            {!edit ? (\n              <span className=\"text-muted d-block mb-2\">{control.email}</span>\n            ) : (\n              <FormInput\n                type=\"email\"\n                defaultValue={control.email}\n                name=\"email\"\n                onChange={handleChange}\n              />\n            )}\n            {!edit ? (\n              <span className=\"text-muted d-block mb-2\">{control.phone}</span>\n            ) : (\n              <FormInput\n                defaultValue={control.phone}\n                name=\"phone\"\n                disabled={!edit}\n                onChange={handleChange}\n              />\n            )}\n            {\n              <Button\n                pill\n                outline\n                size=\"sm\"\n                className=\"mb-2\"\n                onClick={() => setPopUp(true)}\n              >\n                <i className=\"material-icons mr-1\">person_add</i> Assign to\n                Dietitian\n              </Button>\n            }\n          </CardHeader>\n          <Col className={`border-bottom ${edit && \"pb-3\"}`}>\n            <h5 className=\"mb-1 mt-1\">Bio Data</h5>\n            <Col\n              className={`d-flex flex-row align-items-center ${edit && \"mb-2\"}`}\n            >\n              <h6 className={`mr-2 mb-0`}>Age:</h6>\n              <FormInput\n                defaultValue={`${control.age}`}\n                disabled={!edit}\n                style={\n                  !edit\n                    ? {\n                        background: \"transparent\",\n                        border: \"none\",\n                        fontSize: \"1rem\",\n                        color: \"#5a6169\",\n                      }\n                    : { fontSize: \"1rem\", color: \"#5a6169\" }\n                }\n                name=\"age\"\n                onChange={handleChange}\n              />\n            </Col>\n            <Col className=\"d-flex flex-row align-items-center\">\n              <h6 className=\"mr-2 mb-0\">Weight:</h6>\n              <FormInput\n                defaultValue={`${control.weight}`}\n                disabled={!edit}\n                name=\"weight\"\n                style={\n                  !edit\n                    ? {\n                        background: \"transparent\",\n                        border: \"none\",\n                        fontSize: \"1rem\",\n                      }\n                    : { fontSize: \"1rem\" }\n                }\n                onChange={handleChange}\n              />\n            </Col>\n          </Col>\n          <Col className={`border-bottom ${edit && \"pb-3\"}`}>\n            <h5 className=\"mb-1 mt-1\">Health</h5>\n            <Col className={`d-flex ${edit ? \"flex-column mb-3\" : \"flex-row\"}`}>\n              <h6 className=\"mr-2 mb-0\">Condition:</h6>\n              {edit && (\n                <div className=\"d-flex flex-row\">\n                  <FormInput\n                    name=\"foodPreference\"\n                    placeholder=\"Add food item\"\n                    style={{ width: 200 }}\n                    className=\"ml-3 mr-3\"\n                    onChange={({ target }) =>\n                      setCurrentHealthCondition(target.value)\n                    }\n                  />\n                  <Button onClick={addHealthCondition}>\n                    <span>+</span>Add\n                  </Button>\n                </div>\n              )}\n              <span className={`${edit && \"border-bottom\"}`}>\n                {healthCondition.join(\", \").toString()}\n              </span>\n            </Col>\n            <Col\n              className={`d-flex flex-row align-items-center ${\n                edit ? \"mb-3\" : \"\"\n              }`}\n            >\n              <h6 className=\"mr-2 mb-0\">Goal:</h6>\n              <FormInput\n                defaultValue={control.healthGoal}\n                disabled={!edit}\n                style={\n                  !edit\n                    ? {\n                        background: \"transparent\",\n                        border: \"none\",\n                        fontSize: \"1rem\",\n                        color: \"#5a6169\",\n                      }\n                    : { fontSize: \"1rem\", color: \"#5a6169\" }\n                }\n                name=\"healthGoal\"\n                onChange={handleChange}\n              />\n            </Col>\n            <Col className={`d-flex ${edit ? \"flex-column\" : \"flex-row\"}`}>\n              <h6 className=\"mr-2\">Food Prefence:</h6>\n              {edit && (\n                <div className=\"d-flex flex-row\">\n                  <FormInput\n                    name=\"foodPreference\"\n                    placeholder=\"Add food item\"\n                    style={{ width: 200 }}\n                    className=\"ml-3 mr-3\"\n                    onChange={({ target }) =>\n                      setCurrentFoodPreference(target.value)\n                    }\n                  />\n                  <Button onClick={addFoodPreference}>\n                    <span>+</span>Add\n                  </Button>\n                </div>\n              )}\n              <span className={`${edit && \"border-bottom\"}`}>\n                {foodPreference.join(\", \").toString()}\n              </span>\n            </Col>\n          </Col>\n\n          <Col className=\"d-flex flex-row mt-2 border-bottom\">\n            <h6 className=\"mr-2\">Dietitian:</h6>\n            <span>\n              {assignedDietitian ? assignedDietitian.name : <em>Unassigned</em>}\n            </span>\n          </Col>\n          <Col className=\"d-flex flex-row mt-2 mb-2 align-items-center\">\n            <h6 className=\"mr-2 mb-0\">Subscription:</h6>\n            <CustomSelect\n              label=\"\"\n              options={[\n                \"Try Out Package\",\n                \"Basic Package\",\n                \"Platinum Package\",\n                \"Premium Package\",\n              ]}\n              type=\"edit\"\n              disabled={!edit}\n              handleChange={handleChange}\n              selected={control.subscriptionPackage}\n            />\n          </Col>\n          <Col className=\"mb-5\">\n            <>\n              <Col className=\"d-flex flex-row align-items-center mb-2\">\n                <h6 className=\"mr-2 mb-0\">Subscription Start:</h6>\n                {!edit ? (\n                  control.subscriptionStartDate ? (\n                    <FormInput\n                      type=\"date\"\n                      name=\"subscriptionStartDate\"\n                      onChange={handleChange}\n                      defaultValue={control.subscriptionStartDate}\n                      disabled={!edit}\n                      style={\n                        edit\n                          ? { width: 200, background: \"transparent\" }\n                          : {\n                              width: 200,\n                              background: \"transparent\",\n                              border: \"none\",\n                            }\n                      }\n                    />\n                  ) : (\n                    <span>\n                      <em>not set</em>\n                    </span>\n                  )\n                ) : (\n                  <FormInput\n                    type=\"date\"\n                    name=\"subscriptionStartDate\"\n                    onChange={handleChange}\n                    defaultValue={control.subscriptionStartDate}\n                    style={{ width: 200 }}\n                  />\n                )}\n              </Col>\n              <Col className=\"d-flex flex-row align-items-center mb-2\">\n                <h6 className=\"mr-2 mb-0\">Subscription End:</h6>\n                {!edit ? (\n                  control.subscriptionEndDate ? (\n                    <FormInput\n                      type=\"date\"\n                      name=\"subscriptionEndDate\"\n                      onChange={handleChange}\n                      defaultValue={control.subscriptionEndDate}\n                      disabled={!edit}\n                      style={\n                        edit\n                          ? { width: 200, background: \"transparent\" }\n                          : {\n                              width: 200,\n                              background: \"transparent\",\n                              border: \"none\",\n                            }\n                      }\n                    />\n                  ) : (\n                    <span>\n                      <em>not set</em>\n                    </span>\n                  )\n                ) : (\n                  <FormInput\n                    type=\"date\"\n                    name=\"subscriptionEndDate\"\n                    onChange={handleChange}\n                    defaultValue={control.subscriptionEndDate}\n                    style={{ width: 200 }}\n                  />\n                )}\n              </Col>\n            </>\n          </Col>\n          <div className=\"d-flex flew-row\">\n            <Button\n              className=\"ml-3\"\n              onClick={edit ? submitChanges : () => setEdit(true)}\n            >\n              {edit ? \"Submit Changes\" : \"Edit Patient Profile\"}\n            </Button>\n            {edit && (\n              <Button\n                theme=\"danger\"\n                className=\"ml-3\"\n                onClick={() => {\n                  restore();\n                  setEdit(false);\n                }}\n              >\n                Cancel Changes\n              </Button>\n            )}\n            <Button className=\"ml-3\" onClick={() => setDeletePopup(true)} theme=\"danger\">\n              Delete Patient\n            </Button>\n          </div>\n        </Card>\n      </Col>\n    </Container>\n  );\n};\n\nexport default PatientDetails;\n"]},"metadata":{},"sourceType":"module"}