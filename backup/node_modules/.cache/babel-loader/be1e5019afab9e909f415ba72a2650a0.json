{"ast":null,"code":"import _defineProperty from \"/home/joblyn/Desktop/health.workcradle/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _objectSpread from \"/home/joblyn/Desktop/health.workcradle/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nimport _slicedToArray from \"/home/joblyn/Desktop/health.workcradle/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/home/joblyn/Desktop/health.workcradle/src/pages/superadmin/CreateDietitian.js\";\nimport React, { useState, useEffect } from \"react\";\nimport { Container, Button, Form, FormGroup, FormInput, Col, Row, Alert, FormFeedback } from \"shards-react\";\nimport PageTitle from \"../../components/common/PageTitle\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { createDietitianEndpoint } from \"../../apiConstants/apiConstants\";\nimport { createDietitian, createDietitianStateToDefault } from \"../../actions/superadmin/dietitian\"; // import { useHistory } from \"react-router\";\n\nexport default function CreateDietitian() {\n  var companyCode = JSON.parse(localStorage.getItem(\"loggedInUser\")).companyCode;\n  var dispatch = useDispatch();\n  var createDietitianState = useSelector(function (state) {\n    return state.createDietitian;\n  });\n\n  var _useState = useState(false),\n      _useState2 = _slicedToArray(_useState, 2),\n      success = _useState2[0],\n      setSuccess = _useState2[1];\n\n  var _useState3 = useState(false),\n      _useState4 = _slicedToArray(_useState3, 2),\n      errorMessage = _useState4[0],\n      setErrorMessage = _useState4[1]; // const history = useHistory();\n  // useEffect(() =>  {\n  //   if (createPatientState.isCreated === true) {\n  //     setErrorMessage(createDietitianState.data.message);\n  //   } else if (\n  //     createDietitianState.data &&\n  //     createDietitianState.data.code === undefined\n  //   ) {\n  //     alert(\"Dietitian Created\");\n  //     dispatch(createDietitianStateToDefault);\n  //     setErrorMessage(false);\n  //   }\n  // }, [createDietitianState]);\n\n\n  useEffect(function () {\n    console.log(createDietitianState);\n\n    if (createDietitianState.isCreated) {\n      if (createDietitianState.data.code) {\n        setSuccess(false);\n        setErrorMessage(createDietitianState.data.message);\n      } else {\n        setSuccess(true);\n        setErrorMessage(false);\n        dispatch(createDietitianStateToDefault);\n      }\n    } else if (createDietitianState.isCreated === false) {\n      setSuccess(false);\n      setErrorMessage(createDietitianState.error);\n    }\n  }, [createDietitianState]);\n  useEffect(function () {\n    if (success) {\n      setTimeout(function () {\n        setSuccess(false); // window.location.reload();\n      }, 3000);\n    }\n\n    dispatch(createDietitianStateToDefault);\n  }, [success]);\n\n  var _useState5 = useState({\n    role: \"dietitian\",\n    isEmailVerified: true,\n    companyCode: \"\".concat(companyCode)\n  }),\n      _useState6 = _slicedToArray(_useState5, 2),\n      control = _useState6[0],\n      setControl = _useState6[1];\n\n  var handleChange = function handleChange(_ref) {\n    var target = _ref.target;\n    setControl(_objectSpread({}, control, _defineProperty({}, target.name, target.value)));\n  };\n\n  var handleSubmit = function handleSubmit(event) {\n    event.preventDefault();\n    console.log(control);\n    dispatch(createDietitian(createDietitianEndpoint, control));\n  };\n\n  return /*#__PURE__*/React.createElement(Container, {\n    fluid: true,\n    className: \"main-content-container px-4 pb-4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 5\n    }\n  }, success && /*#__PURE__*/React.createElement(Container, {\n    fluid: true,\n    className: \"px-0 sticky-top\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Alert, {\n    className: \"mb-0 text-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"i\", {\n    className: \"fa fa-info mx-2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 13\n    }\n  }), \"Registered Successfully!\")), /*#__PURE__*/React.createElement(Row, {\n    noGutters: true,\n    className: \"page-header py-4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(PageTitle, {\n    sm: \"4\",\n    title: \"Create Dietitian\",\n    subtitle: \"Dashboard\",\n    className: \"text-sm-left\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 9\n    }\n  })), /*#__PURE__*/React.createElement(Col, {\n    fluid: true,\n    className: \"d-flex flex-column align-items-center m-0\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Col, {\n    className: \"bg-white card p-4\",\n    style: {\n      width: \"100%\",\n      maxWidth: \"500px\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"h4\", {\n    className: \"mb-4 text-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 11\n    }\n  }, \"Create Dietitian\"), /*#__PURE__*/React.createElement(Form, {\n    id: \"dietician_Login\",\n    onSubmit: handleSubmit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 11\n    }\n  }, errorMessage && /*#__PURE__*/React.createElement(FormFeedback, {\n    style: {\n      display: \"block\"\n    },\n    className: \"mt-0\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 15\n    }\n  }, errorMessage), /*#__PURE__*/React.createElement(FormGroup, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 120,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"name\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 121,\n      columnNumber: 15\n    }\n  }, \"Name\"), /*#__PURE__*/React.createElement(FormInput, {\n    required: true,\n    onChange: handleChange,\n    id: \"name\",\n    name: \"name\",\n    placeholder: \"Name\",\n    style: {\n      padding: \".5rem .75rem\",\n      fontSize: \".9rem\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 122,\n      columnNumber: 15\n    }\n  })), /*#__PURE__*/React.createElement(FormGroup, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 131,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"emailAdress\",\n    style: {\n      fontSize: \"1rem\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 132,\n      columnNumber: 15\n    }\n  }, \"Email\"), /*#__PURE__*/React.createElement(FormInput, {\n    required: true,\n    onChange: handleChange,\n    id: \"emailAddress\",\n    name: \"email\",\n    type: \"email\",\n    placeholder: \"Email\",\n    className: \"form-custom\",\n    style: {\n      padding: \".5rem .75rem\",\n      fontSize: \".9rem\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 135,\n      columnNumber: 15\n    }\n  })), /*#__PURE__*/React.createElement(FormGroup, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 146,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"phone\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 147,\n      columnNumber: 15\n    }\n  }, \"Phone\"), /*#__PURE__*/React.createElement(FormInput, {\n    required: true,\n    onChange: handleChange,\n    id: \"phone\",\n    name: \"phone\",\n    placeholder: \"Phone\",\n    style: {\n      padding: \".5rem .75rem\",\n      fontSize: \".9rem\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 148,\n      columnNumber: 15\n    }\n  })), /*#__PURE__*/React.createElement(FormGroup, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 157,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"password\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 158,\n      columnNumber: 15\n    }\n  }, \"Password\"), /*#__PURE__*/React.createElement(FormInput, {\n    required: true,\n    onChange: handleChange,\n    id: \"password\",\n    name: \"password\",\n    type: \"password\",\n    placeholder: \"Password\",\n    style: {\n      padding: \".5rem .75rem\",\n      fontSize: \".9rem\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 159,\n      columnNumber: 15\n    }\n  }), /*#__PURE__*/React.createElement(\"p\", {\n    style: {\n      width: \"100%\",\n      marginTop: \".25rem\",\n      fontSize: \"80%\"\n    },\n    className: \"mb-0\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 168,\n      columnNumber: 15\n    }\n  }, \"Minimum of 8 characters. Must contain a letter and a number.\")), /*#__PURE__*/React.createElement(FormGroup, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 179,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"confirmPassword\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 180,\n      columnNumber: 13\n    }\n  }, \"Confirm Password\"), /*#__PURE__*/React.createElement(FormInput, {\n    required: true,\n    onChange: handleChange,\n    id: \"password\",\n    name: \"confirmPassword\",\n    type: \"password\",\n    placeholder: \"Password\",\n    style: {\n      padding: \".5rem .75rem\",\n      fontSize: \".9rem\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 181,\n      columnNumber: 15\n    }\n  })), /*#__PURE__*/React.createElement(Col, {\n    className: \"p-0\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 191,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    type: \"submit\",\n    className: \"w-100 bg-custom btn-custom\",\n    style: {\n      fontSize: \"1rem\"\n    },\n    form: \"dietician_Login\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 192,\n      columnNumber: 15\n    }\n  }, \"Create Dietitian\")), errorMessage && /*#__PURE__*/React.createElement(FormFeedback, {\n    style: {\n      display: \"block\"\n    },\n    className: \"mt-0\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 202,\n      columnNumber: 15\n    }\n  }, errorMessage)))));\n}","map":{"version":3,"sources":["/home/joblyn/Desktop/health.workcradle/src/pages/superadmin/CreateDietitian.js"],"names":["React","useState","useEffect","Container","Button","Form","FormGroup","FormInput","Col","Row","Alert","FormFeedback","PageTitle","useDispatch","useSelector","createDietitianEndpoint","createDietitian","createDietitianStateToDefault","CreateDietitian","companyCode","JSON","parse","localStorage","getItem","dispatch","createDietitianState","state","success","setSuccess","errorMessage","setErrorMessage","console","log","isCreated","data","code","message","error","setTimeout","role","isEmailVerified","control","setControl","handleChange","target","name","value","handleSubmit","event","preventDefault","width","maxWidth","display","padding","fontSize","marginTop"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport {\n  Container,\n  Button,\n  Form,\n  FormGroup,\n  FormInput,\n  Col,\n  Row,\n  Alert,\n  FormFeedback,\n} from \"shards-react\";\nimport PageTitle from \"../../components/common/PageTitle\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { createDietitianEndpoint } from \"../../apiConstants/apiConstants\";\nimport {\n  createDietitian,\n  createDietitianStateToDefault,\n} from \"../../actions/superadmin/dietitian\";\n// import { useHistory } from \"react-router\";\n\nexport default function CreateDietitian() {\n  let companyCode = JSON.parse(localStorage.getItem(\"loggedInUser\")).companyCode;\n  const dispatch = useDispatch();\n  const createDietitianState = useSelector((state) => state.createDietitian);\n  const [success, setSuccess] = useState(false);\n  const [errorMessage, setErrorMessage] = useState(false);\n  // const history = useHistory();\n\n  // useEffect(() =>  {\n  //   if (createPatientState.isCreated === true) {\n  //     setErrorMessage(createDietitianState.data.message);\n  //   } else if (\n  //     createDietitianState.data &&\n  //     createDietitianState.data.code === undefined\n  //   ) {\n  //     alert(\"Dietitian Created\");\n  //     dispatch(createDietitianStateToDefault);\n  //     setErrorMessage(false);\n  //   }\n  // }, [createDietitianState]);\n  useEffect(() => {\n    console.log(createDietitianState);\n    if (createDietitianState.isCreated) {\n      if (createDietitianState.data.code) {\n        setSuccess(false);\n        setErrorMessage(createDietitianState.data.message);\n      } else {\n        setSuccess(true);\n        setErrorMessage(false);\n        dispatch(createDietitianStateToDefault);\n      }\n    } else if (createDietitianState.isCreated === false) {\n      setSuccess(false);\n      setErrorMessage(createDietitianState.error);\n    }\n  }, [createDietitianState]);\n\n  useEffect(() => {\n    if (success) {\n      setTimeout(() => {\n        setSuccess(false);\n        // window.location.reload();\n      }, 3000);\n    }\n    dispatch(createDietitianStateToDefault);\n  }, [success]);\n\n  const [control, setControl] = useState({\n    role: \"dietitian\",\n    isEmailVerified: true,\n    companyCode: `${companyCode}`,\n  });\n\n  const handleChange = ({ target }) => {\n    setControl({\n      ...control,\n      [target.name]: target.value,\n    });\n  };\n\n  const handleSubmit = (event) => {\n    event.preventDefault();\n    console.log(control);\n    dispatch(createDietitian(createDietitianEndpoint, control));\n  };\n\n  return (\n    <Container fluid className=\"main-content-container px-4 pb-4\">\n      {success && (\n        <Container fluid className=\"px-0 sticky-top\">\n          <Alert className=\"mb-0 text-center\">\n            <i className=\"fa fa-info mx-2\"></i>Registered Successfully!\n          </Alert>\n        </Container>\n      )}\n      <Row noGutters className=\"page-header py-4\">\n        <PageTitle\n          sm=\"4\"\n          title=\"Create Dietitian\"\n          subtitle=\"Dashboard\"\n          className=\"text-sm-left\"\n        />\n      </Row>\n      <Col fluid className=\"d-flex flex-column align-items-center m-0\">\n        <Col\n          className=\"bg-white card p-4\"\n          style={{\n            width: \"100%\",\n            maxWidth: \"500px\",\n          }}\n        >\n          <h4 className=\"mb-4 text-center\">Create Dietitian</h4>\n          <Form id=\"dietician_Login\" onSubmit={handleSubmit}>\n            {errorMessage && (\n              <FormFeedback style={{ display: \"block\" }} className=\"mt-0\">\n                {errorMessage}\n              </FormFeedback>\n            )}\n            <FormGroup>\n              <label htmlFor=\"name\">Name</label>\n              <FormInput\n                required\n                onChange={handleChange}\n                id=\"name\"\n                name=\"name\"\n                placeholder=\"Name\"\n                style={{ padding: \".5rem .75rem\", fontSize: \".9rem\" }}\n              />\n            </FormGroup>\n            <FormGroup>\n              <label htmlFor=\"emailAdress\" style={{ fontSize: \"1rem\" }}>\n                Email\n              </label>\n              <FormInput\n                required\n                onChange={handleChange}\n                id=\"emailAddress\"\n                name=\"email\"\n                type=\"email\"\n                placeholder=\"Email\"\n                className=\"form-custom\"\n                style={{ padding: \".5rem .75rem\", fontSize: \".9rem\" }}\n              />\n            </FormGroup>\n            <FormGroup>\n              <label htmlFor=\"phone\">Phone</label>\n              <FormInput\n                required\n                onChange={handleChange}\n                id=\"phone\"\n                name=\"phone\"\n                placeholder=\"Phone\"\n                style={{ padding: \".5rem .75rem\", fontSize: \".9rem\" }}\n              />\n            </FormGroup>\n            <FormGroup>\n              <label htmlFor=\"password\">Password</label>\n              <FormInput\n                required\n                onChange={handleChange}\n                id=\"password\"\n                name=\"password\"\n                type=\"password\"\n                placeholder=\"Password\"\n                style={{ padding: \".5rem .75rem\", fontSize: \".9rem\" }}\n              />\n              <p\n                style={{\n                  width: \"100%\",\n                  marginTop: \".25rem\",\n                  fontSize: \"80%\",\n                }}\n                className=\"mb-0\"\n              >\n                Minimum of 8 characters. Must contain a letter and a number.\n              </p>\n            </FormGroup>\n            <FormGroup>\n            <label htmlFor=\"confirmPassword\">Confirm Password</label>\n              <FormInput\n                required\n                onChange={handleChange}\n                id=\"password\"\n                name=\"confirmPassword\"\n                type=\"password\"\n                placeholder=\"Password\"\n                style={{ padding: \".5rem .75rem\", fontSize: \".9rem\" }}\n              />\n            </FormGroup>\n            <Col className=\"p-0\">\n              <Button\n                type=\"submit\"\n                className=\"w-100 bg-custom btn-custom\"\n                style={{ fontSize: \"1rem\" }}\n                form=\"dietician_Login\"\n              >\n                Create Dietitian\n              </Button>\n            </Col>\n            {errorMessage && (\n              <FormFeedback style={{ display: \"block\" }} className=\"mt-0\">\n                {errorMessage}\n              </FormFeedback>\n            )}\n          </Form>\n        </Col>\n      </Col>\n    </Container>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}