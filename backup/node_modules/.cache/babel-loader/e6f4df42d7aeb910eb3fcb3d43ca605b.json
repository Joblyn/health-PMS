{"ast":null,"code":"import _defineProperty from \"/home/joblyn/Desktop/health.workcradle/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _objectSpread from \"/home/joblyn/Desktop/health.workcradle/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nimport _slicedToArray from \"/home/joblyn/Desktop/health.workcradle/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/home/joblyn/Desktop/health.workcradle/src/pages/superadmin/Login.js\";\nimport React, { useState, useEffect } from \"react\";\nimport { Container, Button, Form, FormGroup, FormInput, Col, FormFeedback } from \"shards-react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { login } from \"../../actions/auth\";\nimport { useHistory } from \"react-router-dom\";\nimport { loginEndpoint } from \"../../apiConstants/apiConstants\";\nexport default function SuperAdminLogin() {\n  var _useState = useState(),\n      _useState2 = _slicedToArray(_useState, 2),\n      control = _useState2[0],\n      setControl = _useState2[1];\n\n  var _useState3 = useState(),\n      _useState4 = _slicedToArray(_useState3, 2),\n      errorMessage = _useState4[0],\n      setErrorMessage = _useState4[1];\n\n  var dispatch = useDispatch();\n  var authState = useSelector(function (state) {\n    return state.authState;\n  });\n  var history = useHistory();\n  useEffect(function () {\n    if (authState.isSuccessful && authState.isLoggedIn) {\n      localStorage.setItem('token', JSON.stringify(authState.data.token));\n      localStorage.setItem('loggedInUser', JSON.stringify(authState.data.token));\n      history.push('/superadmin/dashboard');\n    } else if (!authState.isSuccessful && authState.error) {\n      setErrorMessage(authState.error);\n    }\n  }, [authState]);\n\n  var handleChange = function handleChange(_ref) {\n    var target = _ref.target;\n    setControl(_objectSpread({}, control, _defineProperty({}, target.name, target.value)));\n  };\n\n  var handleSubmit = function handleSubmit(e) {\n    e.preventDefault();\n    dispatch(login(loginEndpoint, control));\n  };\n\n  return /*#__PURE__*/React.createElement(Container, {\n    fluid: true,\n    className: \"d-flex flex-column align-items-center py-5 px-2 m-0 w-100\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Col, {\n    className: \"bg-white card p-4\",\n    style: {\n      width: \"100%\",\n      maxWidth: \"500px\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"h4\", {\n    className: \"mb-4 text-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 9\n    }\n  }, \"Login\"), /*#__PURE__*/React.createElement(Form, {\n    id: \"superAdmin_login\",\n    onSubmit: handleSubmit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 9\n    }\n  }, errorMessage && /*#__PURE__*/React.createElement(FormFeedback, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 28\n    }\n  }, errorMessage), /*#__PURE__*/React.createElement(FormGroup, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"emailAdress\",\n    style: {\n      fontSize: \"1rem\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 13\n    }\n  }, \"Email\"), /*#__PURE__*/React.createElement(FormInput, {\n    id: \"emailAddress\",\n    name: \"email\",\n    type: \"email\",\n    placeholder: \"Email\",\n    className: \"form-custom\",\n    style: {\n      padding: \".5rem .75rem\",\n      fontSize: \".9rem\"\n    },\n    onChange: handleChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 13\n    }\n  })), /*#__PURE__*/React.createElement(FormGroup, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"password\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 13\n    }\n  }, \"Password\"), /*#__PURE__*/React.createElement(FormInput, {\n    id: \"password\",\n    name: \"password\",\n    type: \"password\",\n    placeholder: \"Password\",\n    style: {\n      padding: \".5rem .75rem\",\n      fontSize: \".9rem\"\n    },\n    onChange: handleChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 13\n    }\n  })), /*#__PURE__*/React.createElement(Col, {\n    className: \"p-0\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    type: \"submit\",\n    className: \"w-100 bg-custom btn-custom\",\n    style: {\n      fontSize: \"1rem\"\n    },\n    form: \"superAdmin_login\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 13\n    }\n  }, \"Log In\")))));\n}","map":{"version":3,"sources":["/home/joblyn/Desktop/health.workcradle/src/pages/superadmin/Login.js"],"names":["React","useState","useEffect","Container","Button","Form","FormGroup","FormInput","Col","FormFeedback","useDispatch","useSelector","login","useHistory","loginEndpoint","SuperAdminLogin","control","setControl","errorMessage","setErrorMessage","dispatch","authState","state","history","isSuccessful","isLoggedIn","localStorage","setItem","JSON","stringify","data","token","push","error","handleChange","target","name","value","handleSubmit","e","preventDefault","width","maxWidth","fontSize","padding"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport {\n  Container,\n  Button,\n  Form,\n  FormGroup,\n  FormInput,\n  Col,\n  FormFeedback,\n} from \"shards-react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { login } from \"../../actions/auth\";\nimport { useHistory } from \"react-router-dom\";\nimport { loginEndpoint } from \"../../apiConstants/apiConstants\";\n\nexport default function SuperAdminLogin() {\n  const [control, setControl] = useState();\n  const [errorMessage, setErrorMessage] = useState();\n  const dispatch = useDispatch();\n  const authState = useSelector(state => state.authState);\n  const history = useHistory();\n\n\n  useEffect(() => {\n    if(authState.isSuccessful && authState.isLoggedIn) {\n      localStorage.setItem('token', JSON.stringify(authState.data.token));\n      localStorage.setItem('loggedInUser', JSON.stringify(authState.data.token))\n      history.push('/superadmin/dashboard');\n    } else if (!authState.isSuccessful && authState.error) {\n      setErrorMessage(authState.error);\n    }\n  }, [authState]);\n\n  const handleChange = ({ target }) => {\n    setControl({\n      ...control,\n      [target.name]: target.value,\n    });\n  }\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    dispatch(login(loginEndpoint, control));\n  }\n\n  return (\n    <Container\n      fluid\n      className=\"d-flex flex-column align-items-center py-5 px-2 m-0 w-100\"\n    >\n      <Col\n        className=\"bg-white card p-4\"\n        style={{\n          width: \"100%\",\n          maxWidth: \"500px\",\n        }}\n      >\n        <h4 className=\"mb-4 text-center\">Login</h4>\n        <Form id=\"superAdmin_login\" onSubmit={handleSubmit}>\n          {errorMessage && <FormFeedback>{errorMessage}</FormFeedback>}\n          <FormGroup>\n            <label htmlFor=\"emailAdress\" style={{ fontSize: \"1rem\" }}>\n              Email\n            </label>\n            <FormInput\n              id=\"emailAddress\"\n              name=\"email\"\n              type=\"email\"\n              placeholder=\"Email\"\n              className=\"form-custom\"\n              style={{ padding: \".5rem .75rem\", fontSize: \".9rem\" }}\n              onChange={handleChange}\n            />\n          </FormGroup>\n          <FormGroup>\n            <label htmlFor=\"password\">Password</label>\n            <FormInput\n              id=\"password\"\n              name=\"password\"\n              type=\"password\"\n              placeholder=\"Password\"\n              style={{ padding: \".5rem .75rem\", fontSize: \".9rem\" }}\n              onChange={handleChange}\n            />\n          </FormGroup>\n          <Col className=\"p-0\">\n            <Button\n              type=\"submit\"\n              className=\"w-100 bg-custom btn-custom\"\n              style={{ fontSize: \"1rem\" }}\n              form=\"superAdmin_login\"\n            >\n              Log In\n            </Button>\n          </Col>\n        </Form>\n      </Col>\n    </Container>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}