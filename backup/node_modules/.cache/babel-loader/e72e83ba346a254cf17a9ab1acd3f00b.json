{"ast":null,"code":"import _slicedToArray from \"/home/joblyn/Desktop/health.workcradle/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/home/joblyn/Desktop/health.workcradle/src/pages/dietician/UploadDietPlan.js\";\nimport React, { useEffect, useState } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { Container, Col, Row, Form, FormGroup, Button, Card, CardHeader, Alert } from \"shards-react\";\nimport nProgress from \"nprogress\";\nimport PageTitle from \"../../components/common/PageTitle\";\nimport CustomFileUpload from \"../../components/components-overview/CustomFileUpload\";\nimport CustomSelect from \"../../components/components-overview/CustomSelect\";\nimport { getAllPatients } from \"../../actions/superadmin/patients\";\nimport { getPatients, createDocument } from \"../../apiConstants/apiConstants\";\nexport default function UploadDietPlan() {\n  var dietitianId = JSON.parse(localStorage.getItem(\"loggedInUser\")).id;\n  var companyCode = JSON.parse(localStorage.getItem(\"loggedInUser\")).companyCode;\n  var allPatients = useSelector(function (state) {\n    return state.allPatients;\n  });\n\n  var _useState = useState([]),\n      _useState2 = _slicedToArray(_useState, 2),\n      patients = _useState2[0],\n      setPatients = _useState2[1];\n\n  var dispatch = useDispatch();\n\n  var _useState3 = useState(),\n      _useState4 = _slicedToArray(_useState3, 2),\n      docName = _useState4[0],\n      setDocName = _useState4[1];\n\n  console.log(setDocName);\n\n  var _useState5 = useState(),\n      _useState6 = _slicedToArray(_useState5, 2),\n      file = _useState6[0],\n      setFile = _useState6[1];\n\n  var _useState7 = useState(),\n      _useState8 = _slicedToArray(_useState7, 2),\n      createdFor = _useState8[0],\n      setCreatedFor = _useState8[1];\n\n  var _useState9 = useState(false),\n      _useState10 = _slicedToArray(_useState9, 2),\n      isLoading = _useState10[0],\n      setIsLoading = _useState10[1];\n\n  var _useState11 = useState(false),\n      _useState12 = _slicedToArray(_useState11, 2),\n      success = _useState12[0],\n      setSuccess = _useState12[1];\n\n  useEffect(function () {\n    dispatch(getAllPatients(getPatients));\n  }, []);\n  useEffect(function () {\n    setPatients(allPatients.data && allPatients.data.results.filter(function (patient) {\n      return patient.companyCode === companyCode && patient.assignedDietitian === dietitianId;\n    }));\n  }, [allPatients]);\n\n  var submitForm = function submitForm() {\n    var createdBy = JSON.parse(localStorage.getItem(\"loggedInUser\")).id;\n    var formData = new FormData();\n    formData.append(\"docName\", docName);\n    formData.append(\"File\", file);\n    formData.append(\"createdFor\", createdFor);\n    formData.append(\"createdBy\", createdBy);\n    formData.append(\"companyCode\", companyCode);\n    var localUrl = \"https://dev-workcradle.herokuapp.com/api/\";\n    var prodUrl = \"https://dev-workcradle.herokuapp.com/api/\";\n    var baseUrl = process.env.NODE_ENV === \"production\" ? prodUrl : localUrl;\n    var endpoint = baseUrl + createDocument;\n    var token = JSON.parse(localStorage.getItem(\"tokens\")).access.token;\n    var bearerToken = \"Bearer \" + token;\n    nProgress.start();\n    fetch(endpoint, {\n      method: \"POST\",\n      body: formData,\n      headers: {\n        \"Content-Type\": \"application/json\",\n        Authorization: bearerToken\n      }\n    }).then(function (res) {\n      return res.json();\n    }).then(function (data) {\n      nProgress.done();\n      nProgress.remove();\n      setSuccess(true);\n      setIsLoading(false);\n    }).catch(function (err) {\n      nProgress.done();\n      nProgress.remove();\n      alert('An error occured, please try again');\n      window.location.reload();\n    });\n  };\n\n  useEffect(function () {\n    if (success) {\n      setTimeout(function () {\n        setSuccess(false);\n        window.location.reload();\n      }, 2000);\n    }\n  }, [success]);\n  return /*#__PURE__*/React.createElement(Container, {\n    fluid: true,\n    className: \"main-content-container px-4 pb-4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 5\n    }\n  }, success && /*#__PURE__*/React.createElement(Container, {\n    fluid: true,\n    className: \"px-0 sticky-top\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Alert, {\n    className: \"mb-0 text-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"i\", {\n    className: \"fa fa-info mx-2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 13\n    }\n  }), \"Uploaded Diet Plan to patient\")), /*#__PURE__*/React.createElement(Row, {\n    noGutters: true,\n    className: \"page-header py-4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(PageTitle, {\n    sm: \"4\",\n    title: \"Upload patient Diet Plan\",\n    subtitle: \"Dashboard\",\n    className: \"text-sm-left\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 9\n    }\n  })), /*#__PURE__*/React.createElement(Col, {\n    className: \"p-3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Card, {\n    style: {\n      maxWidth: \"506px\"\n    },\n    className: \"mx-auto\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(CardHeader, {\n    className: \"border-bottom\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"h6\", {\n    className: \"m-0\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 13\n    }\n  }, \"Upload Client Diet Plan\")), /*#__PURE__*/React.createElement(Form, {\n    className: \"p-4\",\n    id: \"Upload_Diet_Plan\",\n    onSubmit: submitForm,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(FormGroup, {\n    className: \"mb-3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 15\n    }\n  }, \"Document\"), /*#__PURE__*/React.createElement(CustomFileUpload, {\n    label: \"Document\",\n    required: true,\n    handleChange: setFile,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 120,\n      columnNumber: 15\n    }\n  })), /*#__PURE__*/React.createElement(FormGroup, {\n    className: \"mb-3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 127,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 128,\n      columnNumber: 15\n    }\n  }, \"Select Patient\"), patients && /*#__PURE__*/React.createElement(CustomSelect, {\n    label: \"Patient\",\n    options: patients,\n    setSelectedPatient: setCreatedFor,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 130,\n      columnNumber: 17\n    }\n  })), /*#__PURE__*/React.createElement(Button, {\n    form: \"Upload_Diet_Plan\",\n    className: \"mt-1\",\n    disabled: isLoading,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 138,\n      columnNumber: 13\n    }\n  }, \"Upload Diet Plan\")))));\n}","map":{"version":3,"sources":["/home/joblyn/Desktop/health.workcradle/src/pages/dietician/UploadDietPlan.js"],"names":["React","useEffect","useState","useDispatch","useSelector","Container","Col","Row","Form","FormGroup","Button","Card","CardHeader","Alert","nProgress","PageTitle","CustomFileUpload","CustomSelect","getAllPatients","getPatients","createDocument","UploadDietPlan","dietitianId","JSON","parse","localStorage","getItem","id","companyCode","allPatients","state","patients","setPatients","dispatch","docName","setDocName","console","log","file","setFile","createdFor","setCreatedFor","isLoading","setIsLoading","success","setSuccess","data","results","filter","patient","assignedDietitian","submitForm","createdBy","formData","FormData","append","localUrl","prodUrl","baseUrl","process","env","NODE_ENV","endpoint","token","access","bearerToken","start","fetch","method","body","headers","Authorization","then","res","json","done","remove","catch","err","alert","window","location","reload","setTimeout","maxWidth"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport {\n  Container,\n  Col,\n  Row,\n  Form,\n  FormGroup,\n  Button,\n  Card,\n  CardHeader,\n  Alert,\n} from \"shards-react\";\nimport nProgress from \"nprogress\";\nimport PageTitle from \"../../components/common/PageTitle\";\nimport CustomFileUpload from \"../../components/components-overview/CustomFileUpload\";\nimport CustomSelect from \"../../components/components-overview/CustomSelect\";\nimport { getAllPatients } from \"../../actions/superadmin/patients\";\nimport { getPatients, createDocument } from \"../../apiConstants/apiConstants\";\n\nexport default function UploadDietPlan() {\n  let dietitianId = JSON.parse(localStorage.getItem(\"loggedInUser\")).id;\n  let companyCode = JSON.parse(localStorage.getItem(\"loggedInUser\")).companyCode;  const allPatients = useSelector((state) => state.allPatients);\n  const [patients, setPatients] = useState([]);\n  const dispatch = useDispatch();\n  const [docName, setDocName] = useState();\n  console.log(setDocName)\n  const [file, setFile] = useState();\n  const [createdFor, setCreatedFor] = useState();\n  const [isLoading, setIsLoading] = useState(false);\n  const [success, setSuccess] = useState(false);\n\n  useEffect(() => {\n    dispatch(getAllPatients(getPatients));\n  }, []);\n  useEffect(() => {\n    setPatients(\n      allPatients.data &&\n        allPatients.data.results.filter(\n          (patient) =>\n            patient.companyCode === companyCode &&\n            patient.assignedDietitian === dietitianId\n        )\n    );\n  }, [allPatients]);\n\n  const submitForm = () => {\n    const createdBy = JSON.parse(localStorage.getItem(\"loggedInUser\")).id;\n    const formData = new FormData();\n    formData.append(\"docName\", docName);\n    formData.append(\"File\", file);\n    formData.append(\"createdFor\", createdFor);\n    formData.append(\"createdBy\", createdBy);\n    formData.append(\"companyCode\", companyCode);\n\n    let localUrl = \"https://dev-workcradle.herokuapp.com/api/\";\n    let prodUrl = \"https://dev-workcradle.herokuapp.com/api/\";\n    let baseUrl = process.env.NODE_ENV === \"production\" ? prodUrl : localUrl;\n    const endpoint = baseUrl + createDocument;\n    const token = JSON.parse(localStorage.getItem(\"tokens\")).access.token;\n    const bearerToken = \"Bearer \" + token;\n    nProgress.start();\n    fetch(endpoint, {\n      method: \"POST\",\n      body: formData,\n      headers: {\n        \"Content-Type\": \"application/json\",\n        Authorization: bearerToken,\n      },\n    })\n      .then((res) => res.json())\n      .then((data) => {\n        nProgress.done();\n        nProgress.remove();\n        setSuccess(true);\n        setIsLoading(false)\n      })\n      .catch(err => {\n        nProgress.done();\n        nProgress.remove();\n        alert('An error occured, please try again');\n        window.location.reload();\n      })\n  };\n\n  useEffect(() => {\n    if(success) {\n      setTimeout(() => {\n        setSuccess(false);\n        window.location.reload();\n      }, 2000);\n    }\n  }, [success]);\n\n  return (\n    <Container fluid className=\"main-content-container px-4 pb-4\">\n      {success && (\n        <Container fluid className=\"px-0 sticky-top\">\n          <Alert className=\"mb-0 text-center\">\n            <i className=\"fa fa-info mx-2\"></i>Uploaded Diet Plan to patient\n          </Alert>\n        </Container>\n      )}\n      <Row noGutters className=\"page-header py-4\">\n        <PageTitle\n          sm=\"4\"\n          title=\"Upload patient Diet Plan\"\n          subtitle=\"Dashboard\"\n          className=\"text-sm-left\"\n        />\n      </Row>\n      <Col className=\"p-3\">\n        <Card style={{ maxWidth: \"506px\" }} className=\"mx-auto\">\n          <CardHeader className=\"border-bottom\">\n            <h6 className=\"m-0\">Upload Client Diet Plan</h6>\n          </CardHeader>\n          <Form className=\"p-4\" id=\"Upload_Diet_Plan\" onSubmit={submitForm}>\n            <FormGroup className=\"mb-3\">\n              <label>Document</label>\n              <CustomFileUpload\n                label=\"Document\"\n                required\n                handleChange={setFile}\n              />\n            </FormGroup>\n\n            <FormGroup className=\"mb-3\">\n              <label>Select Patient</label>\n              {patients && (\n                <CustomSelect\n                  label=\"Patient\"\n                  options={patients}\n                  setSelectedPatient={setCreatedFor}\n                />\n              )}\n            </FormGroup>\n\n            <Button\n              form=\"Upload_Diet_Plan\"\n              className=\"mt-1\"\n              disabled={isLoading}\n            >\n              Upload Diet Plan\n            </Button>\n          </Form>\n        </Card>\n      </Col>\n    </Container>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}